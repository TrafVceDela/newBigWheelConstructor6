<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Конфигуратор для AI Predictor</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Share Tech Mono", monospace;
        text-shadow: 0 0 3px rgba(0, 255, 255, 0.4);
        background-color: #0d1117;
      }
      .config-input {
        background-color: #1a202c;
        border-color: #38bdf8;
        transition: all 0.3s ease;
      }
      .config-input:focus {
        outline: none;
        box-shadow: 0 0 15px rgba(56, 189, 248, 0.5);
        border-color: #7dd3fc;
      }
      .accordion-content {
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.3s ease-in-out;
      }
      .accordion-header i {
        transition: transform 0.3s ease-in-out;
      }
      .accordion-item.open .accordion-content {
        max-height: 1500px; /* Increased for more content */
      }
      .accordion-item.open .accordion-header i {
        transform: rotate(180deg);
      }
      /* Custom Toggle Switch Styles */
      .toggle-checkbox {
        @apply: absolute block w-6 h-6 rounded-full bg-white border-4 appearance-none cursor-pointer;
        right: 1rem;
        transition: right 0.2s ease-in-out;
      }
      .toggle-checkbox:checked {
        right: 0.1rem;
        border-color: #0ea5e9; /* cyan-600 */
      }
      .toggle-label {
        @apply: block overflow-hidden h-6 rounded-full bg-gray-600 cursor-pointer;
        transition: background-color 0.2s ease-in-out;
      }
      .toggle-checkbox:checked + .toggle-label {
        background-color: #0ea5e9; /* cyan-600 */
      }
    </style>
  </head>
  <body class="bg-gray-900 text-cyan-300">
    <div class="container mx-auto p-4 md:p-8 max-w-4xl">
      <header class="text-center mb-10">
        <h1
          class="text-3xl md:text-5xl tracking-widest text-cyan-300"
          style="text-shadow: 0 0 8px #0ea5e9"
        >
          <i class="fas fa-cogs mr-4"></i>AI Predictor Configurator
        </h1>
        <p class="text-gray-400 mt-2">
          // Настройте и скачайте ваш HTML файл //
        </p>
      </header>

      <div class="space-y-8">
        <div
          class="bg-[#0d0d0d] border border-cyan-700 rounded-lg p-6 shadow-lg shadow-cyan-500/10"
        >
          <h2
            class="text-2xl font-bold mb-6 tracking-wider border-b border-cyan-800 pb-2"
          >
            // Общие настройки
          </h2>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
              <label for="currency" class="block text-sm font-medium mb-1"
                >Валюта</label
              >
              <input
                type="text"
                id="currency"
                value="NGN"
                class="config-input w-full p-2 border rounded-md text-white"
              />
            </div>
            <div>
              <label
                for="winnerMultiplier"
                class="block text-sm font-medium mb-1"
                >Множитель выигрыша в ленте</label
              >
              <input
                type="number"
                id="winnerMultiplier"
                value="100"
                class="config-input w-full p-2 border rounded-md text-white"
              />
            </div>
            <div>
              <label for="minBet" class="block text-sm font-medium mb-1"
                >Минимальная ставка</label
              >
              <input
                type="number"
                id="minBet"
                value="500"
                class="config-input w-full p-2 border rounded-md text-white"
              />
            </div>
            <div>
              <label for="maxBet" class="block text-sm font-medium mb-1"
                >Максимальная ставка</label
              >
              <input
                type="number"
                id="maxBet"
                value="1500"
                class="config-input w-full p-2 border rounded-md text-white"
              />
            </div>
            <div class="col-span-1 md:col-span-2">
              <label for="vipLink" class="block text-sm font-medium mb-1"
                >Ссылка для кнопки "Send Message" в VIP</label
              >
              <input
                type="text"
                id="vipLink"
                value="#"
                class="config-input w-full p-2 border rounded-md text-white"
              />
            </div>

            <div
              class="col-span-1 md:col-span-2 border-t border-cyan-800 pt-6 mt-2 grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4"
            >
              <div class="flex items-center justify-between">
                <label for="enableBetStep" class="block text-sm font-medium"
                  >Включить шаг "Get Bet Amount"</label
                >
                <div
                  class="relative inline-block w-12 mr-2 align-middle select-none transition duration-200 ease-in"
                >
                  <input
                    type="checkbox"
                    name="enableBetStep"
                    id="enableBetStep"
                    checked
                    class="toggle-checkbox absolute block w-6 h-6 rounded-full bg-white border-4 appearance-none cursor-pointer"
                  />
                  <label
                    for="enableBetStep"
                    class="toggle-label block overflow-hidden h-6 rounded-full bg-gray-600 cursor-pointer"
                  ></label>
                </div>
              </div>
              <div class="flex items-center justify-between">
                <label for="enableLottery" class="block text-sm font-medium"
                  >Включить "Lottery"</label
                >
                <div
                  class="relative inline-block w-12 mr-2 align-middle select-none transition duration-200 ease-in"
                >
                  <input
                    type="checkbox"
                    name="enableLottery"
                    id="enableLottery"
                    checked
                    class="toggle-checkbox absolute block w-6 h-6 rounded-full bg-white border-4 appearance-none cursor-pointer"
                  />
                  <label
                    for="enableLottery"
                    class="toggle-label block overflow-hidden h-6 rounded-full bg-gray-600 cursor-pointer"
                  ></label>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div
          class="bg-[#0d0d0d] border border-cyan-700 rounded-lg p-6 shadow-lg shadow-cyan-500/10"
        >
          <h2
            class="text-2xl font-bold mb-6 tracking-wider border-b border-cyan-800 pb-2"
          >
            // Настройка карточек (стандартные)
          </h2>
          <div id="cards-settings-container" class="space-y-4"></div>
        </div>

        <div
          class="bg-[#0d0d0d] border border-fuchsia-700 rounded-lg p-6 shadow-lg shadow-fuchsia-500/10"
        >
          <h2
            class="text-2xl font-bold mb-6 tracking-wider border-b border-fuchsia-800 pb-2"
          >
            // Настройка Слотов
          </h2>
          <div id="slots-settings-container" class="space-y-4"></div>
          <button
            id="add-slot-btn"
            class="mt-6 bg-gray-700 text-white font-bold px-4 py-2 text-sm rounded-md hover:bg-fuchsia-600 transition-colors"
          >
            Добавить слот
          </button>
        </div>

        <div
          class="bg-[#0d0d0d] border border-cyan-700 rounded-lg p-6 shadow-lg shadow-cyan-500/10"
        >
          <h2
            class="text-2xl font-bold mb-6 tracking-wider border-b border-cyan-800 pb-2"
          >
            // Настройка Колеса Фортуны
          </h2>
          <div id="wheel-prizes-container" class="space-y-4"></div>
          <button
            id="add-prize-btn"
            class="mt-6 bg-gray-700 text-white font-bold px-4 py-2 text-sm rounded-md hover:bg-cyan-600 transition-colors"
          >
            Добавить приз
          </button>
        </div>

        <div
          class="bg-[#0d0d0d] border border-cyan-700 rounded-lg p-6 shadow-lg shadow-cyan-500/10"
        >
          <h2
            class="text-2xl font-bold mb-6 tracking-wider border-b border-cyan-800 pb-2"
          >
            // Настройки видео
          </h2>
          <div id="accordion-container" class="space-y-2"></div>
        </div>
      </div>

      <div class="mt-12 text-center">
        <button
          id="generateBtn"
          class="bg-cyan-600 text-black font-bold px-10 py-4 text-lg rounded-md hover:bg-cyan-500 transition-all duration-300 active:scale-95 shadow-lg shadow-cyan-500/30 hover:shadow-cyan-500/50"
        >
          <i class="fas fa-download mr-3"></i>Сгенерировать и скачать HTML
        </button>
      </div>
    </div>

    <a id="downloadLink" class="hidden"></a>

    <template id="original-html">
      <html lang="ro" dir="ltr">
        <head>
          <meta charset="UTF-8" />
          <meta
            name="viewport"
            content="width=device-width, initial-scale=1.0"
          />
          <title>PREDICTOR AI</title>
          <script src="https://cdn.tailwindcss.com"></script>
          <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
          />
          <link rel="preconnect" href="https://fonts.googleapis.com" />
          <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
          <link
            href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap"
            rel="stylesheet"
          />
          <style>
            /* Styles remain unchanged */
            body {
              font-family: "Share Tech Mono", monospace;
              text-shadow: 0 0 3px rgba(57, 255, 20, 0.4);
              background-color: #000;
              overflow-x: hidden;
              color: rgb(74 222 128 / 1);
            }
            .cursor::after {
              content: "_";
              animation: blink 1s step-end infinite;
            }
            @keyframes blink {
              50% {
                opacity: 0;
              }
            }
            .hacker-input:focus {
              box-shadow: 0 0 15px rgba(57, 255, 20, 0.6);
            }
            .blinking-red {
              color: #ef4444;
              animation: blink-red 1.5s step-end infinite;
            }
            @keyframes blink-red {
              50% {
                opacity: 0.5;
              }
            }
            .shake {
              animation: shake 0.5s cubic-bezier(0.36, 0.07, 0.19, 0.97) both;
            }
            @keyframes shake {
              10%,
              90% {
                transform: translate3d(-1px, 0, 0);
              }
              20%,
              80% {
                transform: translate3d(2px, 0, 0);
              }
              30%,
              50%,
              70% {
                transform: translate3d(-4px, 0, 0);
              }
              40%,
              60% {
                transform: translate3d(4px, 0, 0);
              }
            }
            .signal-card {
              transition: transform 0.3s ease, box-shadow 0.3s ease;
            }
            .signal-card:hover:not(.locked-card) {
              transform: translateY(-5px);
              box-shadow: 0 0 25px rgba(57, 255, 20, 0.5);
            }
            #chat-widget {
              transition: all 0.3s ease-in-out;
            }
            #chat-messages::-webkit-scrollbar {
              width: 4px;
            }
            #chat-messages::-webkit-scrollbar-track {
              background: #1a1a1a;
            }
            #chat-messages::-webkit-scrollbar-thumb {
              background: #00ff00;
            }
            #live-feed-container {
              mask-image: linear-gradient(
                to right,
                transparent,
                black 5%,
                black 95%,
                transparent
              );
              -webkit-mask-image: linear-gradient(
                to right,
                transparent,
                black 5%,
                black 95%,
                transparent
              );
            }
            .winner-item {
              animation: slideInFromLeft 0.5s ease-out forwards;
              gap: 10px;
            }
            @keyframes slideInFromLeft {
              from {
                opacity: 0;
                transform: translateX(-30px);
              }
              to {
                opacity: 1;
                transform: translateX(0);
              }
            }
            .btn-disabled {
              background-color: #4a5568;
              cursor: not-allowed;
              color: #a0aec0;
            }
            .multiplier-rising {
              text-shadow: 0 0 20px rgba(255, 255, 255, 0.8);
              color: #63b3ed;
            }
            .multiplier-final {
              color: #48bb78;
              text-shadow: 0 0 20px rgba(72, 187, 120, 0.8);
            }
            .custom-select-options {
              animation: fadeIn 0.2s ease-out;
            }
            @keyframes fadeIn {
              from {
                opacity: 0;
                transform: translateY(-10px);
              }
              to {
                opacity: 1;
                transform: translateY(0);
              }
            }
            .mine-cell {
              background-color: #1a202c;
              border-radius: 0.375rem;
              transition: all 0.3s ease-in-out;
              cursor: default;
            }
            .mine-cell.safe {
              background-image: url(https://www.freeiconspng.com/uploads/yellow-christmas-star-png-18.png);
              background-size: 70%;
              background-position: center;
              background-repeat: no-repeat;
              background-color: #38a169;
              transform: scale(1.05);
              box-shadow: 0 0 15px rgba(56, 161, 105, 0.7);
            }
            .game-console {
              background-color: #0d1117;
              border-color: #30363d;
              height: 8rem;
            }
            .game-console p {
              animation: fadeInConsole 0.3s ease-in;
              color: #a5d6ff;
            }
            .game-console p.success {
              color: #56d364;
            }
            .game-console p.error {
              color: #f85149;
            }
            @keyframes fadeInConsole {
              from {
                opacity: 0;
              }
              to {
                opacity: 1;
              }
            }
            .penalty-gate-post {
              background-color: #a0aec0;
            }
            .penalty-target-zone {
              background-color: rgba(255, 255, 255, 0.1);
              border: 2px dashed rgba(255, 255, 255, 0.2);
              transition: all 0.3s ease-in-out;
            }
            .penalty-target-zone.highlight {
              background-color: rgba(56, 161, 105, 0.8);
              border-color: #f6e05e;
              box-shadow: 0 0 25px rgba(56, 161, 105, 0.9);
            }
            .number-signal-display {
              color: #48bb78;
              text-shadow: 0 0 20px rgba(72, 187, 120, 0.8);
            }
            #chicken-road-viewport {
              overflow: hidden;
              background: linear-gradient(to bottom, #1a202c, #2d3748);
            }
            #chicken-road-track {
              transition: transform 0.2s linear;
            }
            .chicken-stove {
              background-color: #4a5568;
              border: 2px solid #718096;
              box-shadow: 0 4px 0 #2d3748;
            }
            #chicken-icon {
              transition: transform 0.2s ease-out;
              z-index: 10;
            }
            .locked-card {
              cursor: not-allowed;
              pointer-events: none;
            }
            /* Animation for the Lottery button */
            .shimmer-btn {
              position: relative;
              overflow: hidden;
              background: #1a202c; /* Base color */
              border: 1px solid #f6e05e;
              color: #f6e05e;
              transition: all 0.3s;
            }
            .shimmer-btn:hover {
              box-shadow: 0 0 15px rgba(246, 224, 94, 0.6);
            }
            .shimmer-btn::before {
              content: "";
              position: absolute;
              top: 0;
              left: -150%;
              width: 75%;
              height: 100%;
              background: linear-gradient(
                90deg,
                transparent,
                rgba(246, 224, 94, 0.4),
                transparent
              );
              animation: shimmer 5s infinite linear;
            }
            @keyframes shimmer {
              0% {
                transform: translateX(0);
              }
              100% {
                transform: translateX(350%);
              }
            }
            .blinking-text {
              animation: blink-gray-red 1.5s infinite;
            }
            @keyframes blink-gray-red {
              0%,
              100% {
                color: #6b7280;
              } /* gray-500 */
              50% {
                color: #ef4444;
              } /* red-500 */
            }
            .locked-card .card-image {
              filter: blur(4px);
              transform: scale(1.1);
            }
          </style>
        </head>
        <body class="bg-black text-green-400">
          <div
            id="main-content"
            class="min-h-screen flex flex-col items-center justify-center p-4"
          >
            <header class="text-center mb-12">
              <h1 class="text-3xl md:text-5xl tracking-widest cursor-default">
                <span id="typing-text">PREDICTOR AI</span
                ><span class="cursor"></span>
              </h1>
            </header>
            <button
              id="openModalBtn"
              class="bg-transparent border-2 border-green-400 text-green-400 px-8 py-3 text-lg hover:bg-green-400 hover:text-black transition-all duration-300 active:scale-95 shadow-lg shadow-green-500/20 hover:shadow-green-500/40"
            >
              OBȚINE SEMNALE AI
            </button>
          </div>
          <div
            id="app-container"
            class="hidden min-h-screen container mx-auto p-4 md:p-8"
          >
            <div class="w-full flex justify-end items-center mb-4">
              <button
                id="lotteryBtn"
                class="shimmer-btn rounded-md px-4 py-2 text-sm mr-4"
              >
                <i class="fas fa-star mr-2"></i>LOTERIE
              </button>
              <button
                id="logoutBtn"
                class="bg-red-600 text-white px-4 py-2 text-sm rounded-md hover:bg-red-500 transition-colors active:scale-95"
              >
                <i class="fas fa-sign-out-alt mr-2"></i>Deconectare
              </button>
            </div>
            <div id="live-feed-section" class="mb-8">
              <h3
                class="text-center text-xl mb-4 tracking-widest flex items-center justify-center"
              >
                // STUDENȚII MEI //
                <span
                  class="bg-red-600 text-white text-xs font-bold px-2 py-1 rounded ml-2 animate-pulse"
                  >LIVE</span
                >
              </h3>
              <div
                id="live-feed-container"
                class="h-24 bg-black/30 border border-green-800 rounded-md p-2 flex items-center space-x-4 overflow-x-hidden"
              ></div>
            </div>
            <div id="signals-section" class="">
              <h2
                class="text-3xl md:text-4xl text-center mb-10 tracking-widest"
              >
                // SEMNALE AI //
              </h2>
              <div
                id="cards-grid"
                class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-6"
              >
                <div
                  class="signal-card locked-card bg-[#0d0d0d] border border-yellow-700 rounded-lg overflow-hidden flex flex-col"
                  data-card-type="vip"
                  data-game="vip"
                >
                  <div class="w-full h-48 overflow-hidden relative">
                    <img
                      src=""
                      alt=""
                      class="card-image w-full h-full object-cover transition-all duration-300"
                    />
                    <div
                      class="banner-container absolute inset-0 flex items-center justify-center"
                    >
                      <div
                        class="absolute w-[150%] bg-red-600 text-white text-center font-bold py-2 -rotate-12 text-sm shadow-lg"
                      >
                        NECESITĂ ALT COD DE ACCES
                      </div>
                    </div>
                  </div>
                  <div class="p-4 flex flex-col flex-grow text-center">
                    <h3
                      class="card-title text-lg font-bold mb-2 flex-grow text-yellow-300"
                      style="text-shadow: 0 0 8px #f6e05e"
                    ></h3>
                    <p
                      id="stats-vip"
                      class="text-sm text-gray-400 mb-3 font-mono leading-tight"
                    >
                      // Se încarcă datele...
                    </p>
                    <button
                      class="w-full mt-auto bg-gray-600 text-gray-400 px-4 py-2 cursor-not-allowed"
                      disabled
                    >
                      ACTIVEAZĂ
                    </button>
                  </div>
                </div>

                <div
                  class="signal-card bg-[#0d0d0d] border border-green-700 rounded-lg overflow-hidden flex flex-col"
                  data-game="aviator"
                >
                  <img
                    src=""
                    alt=""
                    class="card-image w-full h-48 object-cover"
                  />
                  <div class="p-4 flex flex-col flex-grow text-center">
                    <h3
                      class="card-title text-lg font-bold mb-2 flex-grow"
                    ></h3>
                    <p
                      id="stats-aviator"
                      class="text-sm text-gray-400 mb-3 font-mono leading-tight"
                    >
                      // Se încarcă datele...
                    </p>
                    <button
                      class="activate-btn w-full mt-auto bg-green-600 text-black px-4 py-2 hover:bg-green-500 transition-all duration-300 active:scale-95"
                    >
                      ACTIVEAZĂ
                    </button>
                  </div>
                </div>

                <div
                  class="signal-card bg-[#0d0d0d] border border-green-700 rounded-lg overflow-hidden flex flex-col"
                  data-game="mines"
                >
                  <img
                    src=""
                    alt=""
                    class="card-image w-full h-48 object-cover"
                  />
                  <div class="p-4 flex flex-col flex-grow text-center">
                    <h3
                      class="card-title text-lg font-bold mb-2 flex-grow"
                    ></h3>
                    <p
                      id="stats-mines"
                      class="text-sm text-gray-400 mb-3 font-mono leading-tight"
                    >
                      // Se încarcă datele...
                    </p>
                    <button
                      class="activate-btn w-full mt-auto bg-green-600 text-black px-4 py-2 hover:bg-green-500 transition-all duration-300 active:scale-95"
                    >
                      ACTIVEAZĂ
                    </button>
                  </div>
                </div>

                <div
                  class="signal-card bg-[#0d0d0d] border border-green-700 rounded-lg overflow-hidden flex flex-col"
                  data-game="penalty"
                >
                  <img
                    src=""
                    alt=""
                    class="card-image w-full h-48 object-cover"
                  />
                  <div class="p-4 flex flex-col flex-grow text-center">
                    <h3
                      class="card-title text-lg font-bold mb-2 flex-grow"
                    ></h3>
                    <p
                      id="stats-penalty"
                      class="text-sm text-gray-400 mb-3 font-mono leading-tight"
                    >
                      // Se încarcă datele...
                    </p>
                    <button
                      class="activate-btn w-full mt-auto bg-green-600 text-black px-4 py-2 hover:bg-green-500 transition-all duration-300 active:scale-95"
                    >
                      ACTIVEAZĂ
                    </button>
                  </div>
                </div>

                <div
                  class="signal-card bg-[#0d0d0d] border border-green-700 rounded-lg overflow-hidden flex flex-col"
                  data-game="apple"
                >
                  <img
                    src=""
                    alt=""
                    class="card-image w-full h-48 object-cover"
                  />
                  <div class="p-4 flex flex-col flex-grow text-center">
                    <h3
                      class="card-title text-lg font-bold mb-2 flex-grow"
                    ></h3>
                    <p
                      id="stats-apple"
                      class="text-sm text-gray-400 mb-3 font-mono leading-tight"
                    >
                      // Se încarcă datele...
                    </p>
                    <button
                      class="activate-btn w-full mt-auto bg-green-600 text-black px-4 py-2 hover:bg-green-500 transition-all duration-300 active:scale-95"
                    >
                      ACTIVEAZĂ
                    </button>
                  </div>
                </div>

                <div
                  class="signal-card bg-[#0d0d0d] border border-green-700 rounded-lg overflow-hidden flex flex-col"
                  data-game="chicken"
                >
                  <img
                    src=""
                    alt=""
                    class="card-image w-full h-48 object-cover"
                  />
                  <div class="p-4 flex flex-col flex-grow text-center">
                    <h3
                      class="card-title text-lg font-bold mb-2 flex-grow"
                    ></h3>
                    <p
                      id="stats-chicken"
                      class="text-sm text-gray-400 mb-3 font-mono leading-tight"
                    >
                      // Se încarcă datele...
                    </p>
                    <button
                      class="activate-btn w-full mt-auto bg-green-600 text-black px-4 py-2 hover:bg-green-500 transition-all duration-300 active:scale-95"
                    >
                      ACTIVEAZĂ
                    </button>
                  </div>
                </div>
              </div>
            </div>
            <div id="game-view" class="hidden">
              <div
                id="game-screen-vip"
                class="game-screen hidden flex-col items-center justify-center"
              >
                <div
                  class="w-full relative min-h-[60vh] flex flex-col items-center justify-center bg-black/30 border border-yellow-500 rounded-md p-8 pt-16 pb-8 text-center"
                >
                  <div class="absolute top-4 left-4">
                    <button
                      class="back-to-signals-btn text-yellow-400 hover:text-yellow-300 transition-colors bg-transparent border border-yellow-400 rounded px-3 py-1 text-sm hover:bg-yellow-400 hover:text-black"
                    >
                      &lt;-- Înapoi
                    </button>
                  </div>
                  <h2
                    class="game-title text-3xl sm:text-4xl text-yellow-300 mb-6 font-bold"
                    style="text-shadow: 0 0 8px #f6e05e"
                  ></h2>
                  <div class="max-w-xl text-lg text-gray-300 space-y-4">
                    <p>
                      Felicitări pentru obținerea celui mai rar predictor,
                      prietene!
                    </p>
                    <p>
                      Predictorul pe care tocmai l-ai primit folosește cele mai
                      recente tehnologii AI pentru a prognoza pariurile
                      sportive!
                    </p>
                    <p>
                      Acum, datorită AI, poți prezice câștigătorul în evenimente
                      sportive cu o acuratețe de 99%!
                    </p>
                    <p>
                      Folosim cel mai nou AI, care ne este disponibil doar în
                      acces privat.
                    </p>
                    <p class="font-bold text-green-400">
                      Scrie-mi ca să îți pot oferi predicții cu AI-ul nostru!
                    </p>
                  </div>
                  <a
                    id="vip-send-message-link"
                    href="#"
                    class="mt-8 bg-green-600 text-black px-8 py-3 text-lg hover:bg-green-500 transition-all duration-300 active:scale-95 rounded-md font-bold"
                  >
                    TRIMITE MESAJ
                  </a>
                </div>
              </div>

              <div
                id="game-screen-slot"
                class="game-screen hidden flex-col items-center justify-center"
              >
                <div class="video-tutorial-section w-full p-4">
                  <div class="flex justify-start w-full mb-4">
                    <button
                      class="back-to-signals-btn text-yellow-400 hover:text-yellow-300 transition-colors bg-transparent border border-yellow-400 rounded px-3 py-1 text-sm hover:bg-yellow-400 hover:text-black"
                    >
                      &lt;-- Înapoi
                    </button>
                  </div>
                  <h3 class="text-3xl text-center text-cyan-300 mb-6">
                    Mai întâi, găsește un joc "Slot"
                  </h3>
                  <div
                    class="flex flex-col md:flex-row gap-6 justify-center items-start"
                  >
                    <div class="w-full md:w-1/2">
                      <h4 class="text-center mb-2 text-lg">
                        CUM SĂ GĂSEȘTI "SLOTS" ÎN WEB
                      </h4>
                      <div
                        class="aspect-video bg-black border border-cyan-700 rounded-lg overflow-hidden"
                      >
                        <iframe
                          class="w-full h-full"
                          id="slot-find-game-web-iframe"
                          title="YouTube video player"
                          frameborder="0"
                          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                          allowfullscreen
                        ></iframe>
                      </div>
                    </div>
                    <div class="w-full md:w-1/2">
                      <h4 class="text-center mb-2 text-lg">
                        CUM SĂ GĂSEȘTI "SLOTS" ÎN APLICAȚIE
                      </h4>
                      <div
                        class="aspect-video bg-black border border-cyan-700 rounded-lg overflow-hidden"
                      >
                        <iframe
                          class="w-full h-full"
                          id="slot-find-game-app-iframe"
                          title="YouTube video player"
                          frameborder="0"
                          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                          allowfullscreen
                        ></iframe>
                      </div>
                    </div>
                  </div>
                  <div class="text-center mt-8">
                    <button
                      class="i-found-game-btn bg-green-600 text-black px-8 py-3 text-lg hover:bg-green-500 transition-all duration-300 active:scale-95 rounded-md font-bold"
                    >
                      AM GĂSIT JOCUL
                    </button>
                  </div>
                </div>

                <div
                  class="predictor-section hidden w-full relative min-h-[60vh] flex-col items-center justify-center bg-black/30 border border-green-800 rounded-md p-4 pt-16 pb-8"
                >
                  <div class="absolute top-4 left-4">
                    <button
                      class="back-to-signals-btn text-yellow-400 hover:text-yellow-300 transition-colors bg-transparent border border-yellow-400 rounded px-3 py-1 text-sm hover:bg-yellow-400 hover:text-black"
                    >
                      &lt;-- Înapoi
                    </button>
                  </div>
                  <h3
                    class="game-title text-3xl sm:text-4xl text-center mb-4 px-12 sm:px-0 mt-8 sm:mt-0"
                  ></h3>
                  <div
                    class="mb-2 py-4 flex-grow flex items-center justify-center"
                  >
                    <p
                      id="slot-signal-display"
                      class="text-3xl sm:text-4xl md:text-5xl font-mono text-center text-white transition-colors duration-500 px-4"
                    >
                      ROTEȘTE
                      <span
                        id="slot-number"
                        class="slot-number text-yellow-400"
                        style="text-shadow: 0 0 15px rgba(250, 204, 21, 0.7)"
                        >#</span
                      >
                      ORI
                    </p>
                  </div>

                  <p
                    id="slot-bet-suggestion"
                    class="bet-suggestion-text text-center text-yellow-400 h-8 my-6 text-sm sm:text-xl font-bold px-2"
                  ></p>

                  <div
                    id="slot-actions-initial"
                    class="slot-actions-initial flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4 w-full max-w-md"
                  >
                    <button
                      id="slot-get-bet-btn"
                      class="slot-get-bet-btn flex-1 bg-green-600 text-black px-4 py-2 text-base hover:bg-green-500 transition-all duration-300 active:scale-95 rounded-md"
                    >
                      Obține mărimea pariului
                    </button>
                    <button
                      id="slot-get-signal-btn"
                      class="slot-get-signal-btn flex-1 px-4 py-2 text-base transition-all duration-300 active:scale-95 rounded-md btn-disabled"
                      disabled
                    >
                      Obține semnal
                    </button>
                  </div>

                  <button
                    id="slot-get-another-btn"
                    class="slot-get-another-btn hidden w-full max-w-md bg-yellow-500 text-black px-4 py-2 text-base hover:bg-yellow-400 transition-all duration-300 active:scale-95 rounded-md"
                  >
                    OBȚINE ALT SEMNAL
                  </button>

                  <div
                    id="slot-console"
                    class="game-console w-full max-w-md border rounded-md mt-6 p-2 font-mono text-xs overflow-y-auto"
                  >
                    <div></div>
                  </div>
                </div>
              </div>

              <div
                id="game-screen-aviator"
                class="game-screen hidden flex-col items-center justify-center"
              >
                <div class="video-tutorial-section w-full p-4">
                  <div class="flex justify-start w-full mb-4">
                    <button
                      class="back-to-signals-btn text-yellow-400 hover:text-yellow-300 transition-colors bg-transparent border border-yellow-400 rounded px-3 py-1 text-sm hover:bg-yellow-400 hover:text-black"
                    >
                      &lt;-- Înapoi
                    </button>
                  </div>
                  <h3 class="text-3xl text-center text-cyan-300 mb-6">
                    Mai întâi, găsește jocul "Aviator"
                  </h3>
                  <div
                    class="flex flex-col md:flex-row gap-6 justify-center items-start"
                  >
                    <div class="w-full md:w-1/2">
                      <h4 class="text-center mb-2 text-lg">
                        CUM SĂ GĂSEȘTI "AVIATOR" ÎN WEB
                      </h4>
                      <div
                        class="aspect-video bg-black border border-cyan-700 rounded-lg overflow-hidden"
                      >
                        <iframe
                          class="w-full h-full"
                          id="aviator-find-game-web-iframe"
                          title="YouTube video player"
                          frameborder="0"
                          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                          allowfullscreen
                        ></iframe>
                      </div>
                    </div>
                    <div class="w-full md:w-1/2">
                      <h4 class="text-center mb-2 text-lg">
                        CUM SĂ GĂSEȘTI "AVIATOR" ÎN APLICAȚIE
                      </h4>
                      <div
                        class="aspect-video bg-black border border-cyan-700 rounded-lg overflow-hidden"
                      >
                        <iframe
                          class="w-full h-full"
                          id="aviator-find-game-app-iframe"
                          title="YouTube video player"
                          frameborder="0"
                          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                          allowfullscreen
                        ></iframe>
                      </div>
                    </div>
                  </div>
                  <div class="text-center mt-8">
                    <button
                      class="i-found-game-btn bg-green-600 text-black px-8 py-3 text-lg hover:bg-green-500 transition-all duration-300 active:scale-95 rounded-md font-bold"
                    >
                      AM GĂSIT JOCUL
                    </button>
                  </div>
                </div>
                <div
                  class="predictor-section hidden w-full relative min-h-[60vh] flex flex-col items-center justify-center bg-black/30 border border-green-800 rounded-md p-4 pt-16 pb-8"
                >
                  <div class="absolute top-4 left-4">
                    <button
                      class="back-to-signals-btn text-yellow-400 hover:text-yellow-300 transition-colors bg-transparent border border-yellow-400 rounded px-3 py-1 text-sm hover:bg-yellow-400 hover:text-black"
                    >
                      &lt;-- Înapoi
                    </button>
                  </div>
                  <div
                    class="absolute top-4 right-4 flex flex-col sm:flex-row gap-2"
                  >
                    <button
                      class="open-video-btn text-orange-400 hover:text-orange-300 bg-transparent border border-orange-400 rounded px-4 py-2 text-base hover:bg-orange-400 hover:text-black font-bold transition-all active:scale-95"
                      data-videos-key="howToUse"
                      data-game-key="aviator"
                    >
                      CUM SE UTILIZEAZĂ PREDICTORUL
                    </button>
                  </div>
                  <h3
                    class="game-title text-3xl sm:text-4xl text-center mb-4 px-12 sm:px-0 mt-8 sm:mt-0"
                  ></h3>
                  <div class="mb-2 py-4">
                    <p
                      id="aviator-multiplier"
                      class="text-7xl md:text-9xl font-mono text-center text-white transition-colors duration-500"
                    >
                      x1.00
                    </p>
                  </div>
                  <p
                    id="aviator-bet-suggestion"
                    class="bet-suggestion-text text-center text-yellow-400 h-8 my-6 text-sm sm:text-xl font-bold px-2"
                  ></p>
                  <div
                    id="aviator-actions-initial"
                    class="flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4 w-full max-w-md"
                  >
                    <button
                      id="aviator-get-bet-btn"
                      class="flex-1 bg-green-600 text-black px-4 py-2 text-base hover:bg-green-500 transition-all duration-300 active:scale-95 rounded-md"
                    >
                      Obține mărimea pariului
                    </button>
                    <button
                      id="aviator-get-signal-btn"
                      class="flex-1 px-4 py-2 text-base transition-all duration-300 active:scale-95 rounded-md btn-disabled"
                      disabled
                    >
                      Obține semnal
                    </button>
                  </div>
                  <button
                    id="aviator-get-another-btn"
                    class="hidden w-full max-w-md bg-yellow-500 text-black px-4 py-2 text-base hover:bg-yellow-400 transition-all duration-300 active:scale-95 rounded-md"
                  >
                    OBȚINE ALT SEMNAL
                  </button>
                  <div
                    id="aviator-console"
                    class="game-console w-full max-w-md border rounded-md mt-6 p-2 font-mono text-xs overflow-y-auto"
                  >
                    <div></div>
                  </div>
                </div>
              </div>

              <div
                id="game-screen-mines"
                class="game-screen hidden flex-col items-center justify-center"
              >
                <div class="video-tutorial-section w-full p-4">
                  <div class="flex justify-start w-full mb-4">
                    <button
                      class="back-to-signals-btn text-yellow-400 hover:text-yellow-300 transition-colors bg-transparent border border-yellow-400 rounded px-3 py-1 text-sm hover:bg-yellow-400 hover:text-black"
                    >
                      &lt;-- Înapoi
                    </button>
                  </div>
                  <h3 class="text-3xl text-center text-cyan-300 mb-6">
                    Mai întâi, găsește jocul "Mines"
                  </h3>
                  <div
                    class="flex flex-col md:flex-row gap-6 justify-center items-start"
                  >
                    <div class="w-full md:w-1/2">
                      <h4 class="text-center mb-2 text-lg">
                        CUM SĂ GĂSEȘTI "MINES" ÎN WEB
                      </h4>
                      <div
                        class="aspect-video bg-black border border-cyan-700 rounded-lg overflow-hidden"
                      >
                        <iframe
                          class="w-full h-full"
                          id="mines-find-game-web-iframe"
                          title="YouTube video player"
                          frameborder="0"
                          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                          allowfullscreen
                        ></iframe>
                      </div>
                    </div>
                    <div class="w-full md:w-1/2">
                      <h4 class="text-center mb-2 text-lg">
                        CUM SĂ GĂSEȘTI "MINES" ÎN APLICAȚIE
                      </h4>
                      <div
                        class="aspect-video bg-black border border-cyan-700 rounded-lg overflow-hidden"
                      >
                        <iframe
                          class="w-full h-full"
                          id="mines-find-game-app-iframe"
                          title="YouTube video player"
                          frameborder="0"
                          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                          allowfullscreen
                        ></iframe>
                      </div>
                    </div>
                  </div>
                  <div class="text-center mt-8">
                    <button
                      class="i-found-game-btn bg-green-600 text-black px-8 py-3 text-lg hover:bg-green-500 transition-all duration-300 active:scale-95 rounded-md font-bold"
                    >
                      AM GĂSIT JOCUL
                    </button>
                  </div>
                </div>
                <div
                  class="predictor-section hidden w-full relative min-h-[60vh] flex flex-col items-center justify-center bg-black/30 border border-green-800 rounded-md p-4 pt-16 pb-8"
                >
                  <button
                    class="back-to-signals-btn absolute top-4 left-4 text-yellow-400 hover:text-yellow-300 transition-colors bg-transparent border border-yellow-400 rounded px-3 py-1 text-sm hover:bg-yellow-400 hover:text-black"
                  >
                    &lt;-- Înapoi
                  </button>
                  <div
                    class="absolute top-4 right-4 flex flex-col sm:flex-row gap-2"
                  >
                    <button
                      class="open-video-btn text-orange-400 hover:text-orange-300 bg-transparent border border-orange-400 rounded px-4 py-2 text-base hover:bg-orange-400 hover:text-black font-bold transition-all active:scale-95"
                      data-videos-key="howToUse"
                      data-game-key="mines"
                    >
                      CUM SE UTILIZEAZĂ PREDICTORUL
                    </button>
                  </div>
                  <h3
                    class="game-title text-3xl sm:text-4xl text-center mb-6 px-12 sm:px-0 mt-8 sm:mt-0"
                  ></h3>
                  <div
                    class="flex flex-col sm:flex-row gap-6 mb-6 w-full max-w-lg"
                  >
                    <div class="relative flex-1" data-select-id="grid-size">
                      <label class="block text-sm text-gray-400 mb-1"
                        >Mărimea grilei</label
                      >
                      <button
                        class="custom-select-trigger w-full bg-gray-900 border border-green-700 rounded p-3 flex justify-between items-center"
                      >
                        <span class="selected-option">5x5</span
                        ><i class="fas fa-chevron-down text-xs"></i>
                      </button>
                      <div
                        class="custom-select-options hidden absolute top-full left-0 right-0 mt-1 bg-gray-900 border border-green-700 rounded-md z-10 overflow-hidden"
                      >
                        <div class="p-2 cursor-pointer hover:bg-green-800/50">
                          3x3
                        </div>
                        <div class="p-2 cursor-pointer hover:bg-green-800/50">
                          4x4
                        </div>
                        <div class="p-2 cursor-pointer hover:bg-green-800/50">
                          5x5
                        </div>
                        <div class="p-2 cursor-pointer hover:bg-green-800/50">
                          6x6
                        </div>
                        <div class="p-2 cursor-pointer hover:bg-green-800/50">
                          7x7
                        </div>
                      </div>
                    </div>
                    <div class="relative flex-1" data-select-id="mine-count">
                      <label class="block text-sm text-gray-400 mb-1"
                        >Număr mine</label
                      >
                      <button
                        class="custom-select-trigger w-full bg-gray-900 border border-green-700 rounded p-3 flex justify-between items-center"
                      >
                        <span class="selected-option">3</span
                        ><i class="fas fa-chevron-down text-xs"></i>
                      </button>
                      <div
                        class="custom-select-options hidden absolute top-full left-0 right-0 mt-1 bg-gray-900 border border-green-700 rounded-md z-10 overflow-y-auto max-h-48"
                      >
                        <div class="p-2 cursor-pointer hover:bg-green-800/50">
                          1
                        </div>
                        <div class="p-2 cursor-pointer hover:bg-green-800/50">
                          2
                        </div>
                        <div class="p-2 cursor-pointer hover:bg-green-800/50">
                          3
                        </div>
                        <div class="p-2 cursor-pointer hover:bg-green-800/50">
                          4
                        </div>
                        <div class="p-2 cursor-pointer hover:bg-green-800/50">
                          5
                        </div>
                        <div class="p-2 cursor-pointer hover:bg-green-800/50">
                          6
                        </div>
                        <div class="p-2 cursor-pointer hover:bg-green-800/50">
                          7
                        </div>
                        <div class="p-2 cursor-pointer hover:bg-green-800/50">
                          10
                        </div>
                        <div class="p-2 cursor-pointer hover:bg-green-800/50">
                          15
                        </div>
                      </div>
                    </div>
                  </div>
                  <div
                    id="mines-grid-container"
                    class="w-full max-w-md aspect-square mb-6"
                  ></div>
                  <p
                    id="mines-bet-suggestion"
                    class="bet-suggestion-text text-center text-yellow-400 h-8 my-6 text-sm sm:text-xl font-bold p-2"
                  ></p>
                  <div
                    id="mines-actions-initial"
                    class="flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4 w-full max-w-md"
                  >
                    <button
                      id="mines-get-bet-btn"
                      class="flex-1 bg-green-600 text-black px-4 py-2 text-base hover:bg-green-500 transition-all duration-300 active:scale-95 rounded-md"
                    >
                      Obține mărimea pariului
                    </button>
                    <button
                      id="mines-get-signal-btn"
                      class="flex-1 px-4 py-2 text-base transition-all duration-300 active:scale-95 rounded-md btn-disabled"
                      disabled
                    >
                      Obține semnal
                    </button>
                  </div>
                  <button
                    id="mines-get-another-btn"
                    class="hidden w-full max-w-md bg-yellow-500 text-black px-4 py-2 text-base hover:bg-yellow-400 transition-all duration-300 active:scale-95 rounded-md"
                  >
                    OBȚINE ALT SEMNAL
                  </button>
                  <div
                    id="mines-console"
                    class="game-console w-full max-w-md border rounded-md mt-6 p-2 font-mono text-xs overflow-y-auto"
                  >
                    <div></div>
                  </div>
                </div>
              </div>

              <div
                id="game-screen-penalty"
                class="game-screen hidden flex-col items-center justify-center"
              >
                <div class="video-tutorial-section w-full p-4">
                  <div class="flex justify-start w-full mb-4">
                    <button
                      class="back-to-signals-btn text-yellow-400 hover:text-yellow-300 transition-colors bg-transparent border border-yellow-400 rounded px-3 py-1 text-sm hover:bg-yellow-400 hover:text-black"
                    >
                      &lt;-- Înapoi
                    </button>
                  </div>
                  <h3 class="text-3xl text-center text-cyan-300 mb-6">
                    Mai întâi, găsește jocul "Penalty"
                  </h3>
                  <div
                    class="flex flex-col md:flex-row gap-6 justify-center items-start"
                  >
                    <div class="w-full md:w-1/2">
                      <h4 class="text-center mb-2 text-lg">
                        CUM SĂ GĂSEȘTI "PENALTY" ÎN WEB
                      </h4>
                      <div
                        class="aspect-video bg-black border border-cyan-700 rounded-lg overflow-hidden"
                      >
                        <iframe
                          class="w-full h-full"
                          id="penalty-find-game-web-iframe"
                          title="YouTube video player"
                          frameborder="0"
                          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                          allowfullscreen
                        ></iframe>
                      </div>
                    </div>
                    <div class="w-full md:w-1/2">
                      <h4 class="text-center mb-2 text-lg">
                        CUM SĂ GĂSEȘTI "PENALTY" ÎN APLICAȚIE
                      </h4>
                      <div
                        class="aspect-video bg-black border border-cyan-700 rounded-lg overflow-hidden"
                      >
                        <iframe
                          class="w-full h-full"
                          id="penalty-find-game-app-iframe"
                          title="YouTube video player"
                          frameborder="0"
                          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                          allowfullscreen
                        ></iframe>
                      </div>
                    </div>
                  </div>
                  <div class="text-center mt-8">
                    <button
                      class="i-found-game-btn bg-green-600 text-black px-8 py-3 text-lg hover:bg-green-500 transition-all duration-300 active:scale-95 rounded-md font-bold"
                    >
                      AM GĂSIT JOCUL
                    </button>
                  </div>
                </div>
                <div
                  class="predictor-section hidden w-full relative min-h-[60vh] flex flex-col items-center justify-center bg-black/30 border border-green-800 rounded-md p-4 pt-16 pb-8"
                >
                  <button
                    class="back-to-signals-btn absolute top-4 left-4 text-yellow-400 hover:text-yellow-300 transition-colors bg-transparent border border-yellow-400 rounded px-3 py-1 text-sm hover:bg-yellow-400 hover:text-black"
                  >
                    &lt;-- Înapoi
                  </button>
                  <div
                    class="absolute top-4 right-4 flex flex-col sm:flex-row gap-2"
                  >
                    <button
                      class="open-video-btn text-orange-400 hover:text-orange-300 bg-transparent border border-orange-400 rounded px-4 py-2 text-base hover:bg-orange-400 hover:text-black font-bold transition-all active:scale-95"
                      data-videos-key="howToUse"
                      data-game-key="penalty"
                    >
                      CUM SE UTILIZEAZĂ PREDICTORUL
                    </button>
                  </div>
                  <h3
                    class="game-title text-3xl sm:text-4xl text-center mb-6 px-12 sm:px-0 mt-8 sm:mt-0"
                  ></h3>
                  <div
                    class="relative w-full max-w-lg h-64 md:h-80 bg-gray-900/20 border-2 border-gray-600 mb-6"
                  >
                    <div
                      class="penalty-gate-post absolute left-0 top-0 w-2 h-full"
                    ></div>
                    <div
                      class="penalty-gate-post absolute right-0 top-0 w-2 h-full"
                    ></div>
                    <div
                      class="penalty-gate-post absolute left-0 top-0 w-full h-2"
                    ></div>
                    <div
                      data-zone="1"
                      class="penalty-target-zone absolute top-4 left-4 w-16 h-16 md:w-20 md:h-20 rounded-full"
                    ></div>
                    <div
                      data-zone="2"
                      class="penalty-target-zone absolute top-4 right-4 w-16 h-16 md:w-20 md:h-20 rounded-full"
                    ></div>
                    <div
                      data-zone="3"
                      class="penalty-target-zone absolute top-4 left-1/2 -translate-x-1/2 w-16 h-16 md:w-20 md:h-20 rounded-full"
                    ></div>
                    <div
                      data-zone="4"
                      class="penalty-target-zone absolute bottom-4 left-4 w-16 h-16 md:w-20 md:h-20 rounded-full"
                    ></div>
                    <div
                      data-zone="5"
                      class="penalty-target-zone absolute bottom-4 right-4 w-16 h-16 md:w-20 md:h-20 rounded-full"
                    ></div>
                  </div>
                  <p
                    id="penalty-bet-suggestion"
                    class="bet-suggestion-text text-center text-yellow-400 h-8 my-6 text-sm sm:text-xl font-bold px-2"
                  ></p>
                  <div
                    id="penalty-actions-initial"
                    class="flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4 w-full max-w-md"
                  >
                    <button
                      id="penalty-get-bet-btn"
                      class="flex-1 bg-green-600 text-black px-4 py-2 text-base hover:bg-green-500 transition-all duration-300 active:scale-95 rounded-md"
                    >
                      Obține mărimea pariului
                    </button>
                    <button
                      id="penalty-get-signal-btn"
                      class="flex-1 px-4 py-2 text-base transition-all duration-300 active:scale-95 rounded-md btn-disabled"
                      disabled
                    >
                      Obține semnal
                    </button>
                  </div>
                  <button
                    id="penalty-start-new-game-btn"
                    class="hidden w-full max-w-md bg-yellow-500 text-black px-6 py-3 text-lg hover:bg-yellow-400 transition-all duration-300 active:scale-95 rounded-md mt-4"
                  >
                    Începe joc nou
                  </button>
                  <div
                    id="penalty-console"
                    class="game-console w-full max-w-md border rounded-md mt-6 p-2 font-mono text-xs overflow-y-auto"
                  >
                    <div></div>
                  </div>
                </div>
              </div>

              <div
                id="game-screen-apple"
                class="game-screen hidden flex-col items-center justify-center"
              >
                <div class="video-tutorial-section w-full p-4">
                  <div class="flex justify-start w-full mb-4">
                    <button
                      class="back-to-signals-btn text-yellow-400 hover:text-yellow-300 transition-colors bg-transparent border border-yellow-400 rounded px-3 py-1 text-sm hover:bg-yellow-400 hover:text-black"
                    >
                      &lt;-- Înapoi
                    </button>
                  </div>
                  <h3 class="text-3xl text-center text-cyan-300 mb-6">
                    Mai întâi, găsește jocul "Apple of Fortune"
                  </h3>
                  <div
                    class="flex flex-col md:flex-row gap-6 justify-center items-start"
                  >
                    <div class="w-full md:w-1/2">
                      <h4 class="text-center mb-2 text-lg">
                        CUM SĂ GĂSEȘTI "APPLE OF FORTUNE" ÎN WEB
                      </h4>
                      <div
                        class="aspect-video bg-black border border-cyan-700 rounded-lg overflow-hidden"
                      >
                        <iframe
                          class="w-full h-full"
                          id="apple-find-game-web-iframe"
                          title="YouTube video player"
                          frameborder="0"
                          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                          allowfullscreen
                        ></iframe>
                      </div>
                    </div>
                    <div class="w-full md:w-1/2">
                      <h4 class="text-center mb-2 text-lg">
                        CUM SĂ GĂSEȘTI "APPLE OF FORTUNE" ÎN APLICAȚIE
                      </h4>
                      <div
                        class="aspect-video bg-black border border-cyan-700 rounded-lg overflow-hidden"
                      >
                        <iframe
                          class="w-full h-full"
                          id="apple-find-game-app-iframe"
                          title="YouTube video player"
                          frameborder="0"
                          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                          allowfullscreen
                        ></iframe>
                      </div>
                    </div>
                  </div>
                  <div class="text-center mt-8">
                    <button
                      class="i-found-game-btn bg-green-600 text-black px-8 py-3 text-lg hover:bg-green-500 transition-all duration-300 active:scale-95 rounded-md font-bold"
                    >
                      AM GĂSIT JOCUL
                    </button>
                  </div>
                </div>
                <div
                  class="predictor-section hidden w-full relative min-h-[60vh] flex flex-col items-center justify-center bg-black/30 border border-green-800 rounded-md p-4 pt-16 pb-8"
                >
                  <button
                    class="back-to-signals-btn absolute top-4 left-4 text-yellow-400 hover:text-yellow-300 transition-colors bg-transparent border border-yellow-400 rounded px-3 py-1 text-sm hover:bg-yellow-400 hover:text-black"
                  >
                    &lt;-- Înapoi
                  </button>
                  <div
                    class="absolute top-4 right-4 flex flex-col sm:flex-row gap-2"
                  >
                    <button
                      class="open-video-btn text-orange-400 hover:text-orange-300 bg-transparent border border-orange-400 rounded px-4 py-2 text-base hover:bg-orange-400 hover:text-black font-bold transition-all active:scale-95"
                      data-videos-key="howToUse"
                      data-game-key="apple"
                    >
                      CUM SE UTILIZEAZĂ PREDICTORUL
                    </button>
                  </div>
                  <h3
                    class="game-title text-3xl sm:text-4xl text-center mb-4 px-12 sm:px-0 mt-8 sm:mt-0"
                  ></h3>
                  <div class="flex-grow flex items-center justify-center">
                    <p
                      id="apple-signal-display"
                      class="text-9xl font-mono text-center text-white"
                    >
                      #
                    </p>
                  </div>
                  <p
                    id="apple-bet-suggestion"
                    class="bet-suggestion-text text-center text-yellow-400 h-8 my-6 text-sm sm:text-xl font-bold px-2"
                  ></p>
                  <div
                    id="apple-actions-initial"
                    class="flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4 w-full max-w-md"
                  >
                    <button
                      id="apple-get-bet-btn"
                      class="flex-1 bg-green-600 text-black px-4 py-2 text-base hover:bg-green-500 transition-all duration-300 active:scale-95 rounded-md"
                    >
                      Obține mărimea pariului
                    </button>
                    <button
                      id="apple-get-signal-btn"
                      class="flex-1 px-4 py-2 text-base transition-all duration-300 active:scale-95 rounded-md btn-disabled"
                      disabled
                    >
                      Obține semnal
                    </button>
                  </div>
                  <button
                    id="apple-start-new-game-btn"
                    class="hidden w-full max-w-md bg-yellow-500 text-black px-6 py-3 text-lg hover:bg-yellow-400 transition-all duration-300 active:scale-95 rounded-md mt-4"
                  >
                    Începe joc nou
                  </button>
                  <div
                    id="apple-console"
                    class="game-console w-full max-w-md border rounded-md mt-6 p-2 font-mono text-xs overflow-y-auto"
                  >
                    <div></div>
                  </div>
                </div>
              </div>

              <div
                id="game-screen-chicken"
                class="game-screen hidden flex-col items-center justify-center"
              >
                <div class="video-tutorial-section w-full p-4">
                  <div class="flex justify-start w-full mb-4">
                    <button
                      class="back-to-signals-btn text-yellow-400 hover:text-yellow-300 transition-colors bg-transparent border border-yellow-400 rounded px-3 py-1 text-sm hover:bg-yellow-400 hover:text-black"
                    >
                      &lt;-- Înapoi
                    </button>
                  </div>
                  <h3 class="text-3xl text-center text-cyan-300 mb-6">
                    Mai întâi, găsește jocul "Chicken Road"
                  </h3>
                  <div
                    class="flex flex-col md:flex-row gap-6 justify-center items-start"
                  >
                    <div class="w-full md:w-1/2">
                      <h4 class="text-center mb-2 text-lg">
                        CUM SĂ GĂSEȘTI "CHICKEN ROAD" ÎN WEB
                      </h4>
                      <div
                        class="aspect-video bg-black border border-cyan-700 rounded-lg overflow-hidden"
                      >
                        <iframe
                          class="w-full h-full"
                          id="chicken-find-game-web-iframe"
                          title="YouTube video player"
                          frameborder="0"
                          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                          allowfullscreen
                        ></iframe>
                      </div>
                    </div>
                    <div class="w-full md:w-1/2">
                      <h4 class="text-center mb-2 text-lg">
                        CUM SĂ GĂSEȘTI "CHICKEN ROAD" ÎN APLICAȚIE
                      </h4>
                      <div
                        class="aspect-video bg-black border border-cyan-700 rounded-lg overflow-hidden"
                      >
                        <iframe
                          class="w-full h-full"
                          id="chicken-find-game-app-iframe"
                          title="YouTube video player"
                          frameborder="0"
                          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                          allowfullscreen
                        ></iframe>
                      </div>
                    </div>
                  </div>
                  <div class="text-center mt-8">
                    <button
                      class="i-found-game-btn bg-green-600 text-black px-8 py-3 text-lg hover:bg-green-500 transition-all duration-300 active:scale-95 rounded-md font-bold"
                    >
                      AM GĂSIT JOCUL
                    </button>
                  </div>
                </div>
                <div
                  class="predictor-section hidden w-full relative min-h-[60vh] flex flex-col items-center justify-center bg-black/30 border border-green-800 rounded-md p-4 pt-16 pb-8"
                >
                  <button
                    class="back-to-signals-btn absolute top-4 left-4 text-yellow-400 hover:text-yellow-300 transition-colors bg-transparent border border-yellow-400 rounded px-3 py-1 text-sm hover:bg-yellow-400 hover:text-black"
                  >
                    &lt;-- Înapoi
                  </button>
                  <div
                    class="absolute top-4 right-4 flex flex-col sm:flex-row gap-2"
                  >
                    <button
                      class="open-video-btn text-orange-400 hover:text-orange-300 bg-transparent border border-orange-400 rounded px-4 py-2 text-base hover:bg-orange-400 hover:text-black font-bold transition-all active:scale-95"
                      data-videos-key="howToUse"
                      data-game-key="chicken"
                    >
                      CUM SE UTILIZEAZĂ PREDICTORUL
                    </button>
                  </div>
                  <h3
                    class="game-title text-3xl sm:text-4xl text-center mb-4 px-12 sm:px-0 mt-8 sm:mt-0"
                  ></h3>
                  <div class="w-full flex justify-center mb-4">
                    <div
                      class="relative w-full max-w-xs"
                      data-select-id="chicken-difficulty"
                    >
                      <label
                        class="block text-sm text-gray-400 mb-1 text-center"
                        >Dificultate</label
                      >
                      <button
                        class="custom-select-trigger w-full bg-gray-900 border border-green-700 rounded p-3 flex justify-between items-center"
                      >
                        <span class="selected-option">Ușor</span
                        ><i class="fas fa-chevron-down text-xs"></i>
                      </button>
                      <div
                        class="custom-select-options hidden absolute top-full left-0 right-0 mt-1 bg-gray-900 border border-green-700 rounded-md z-10 overflow-hidden"
                      >
                        <div class="p-2 cursor-pointer hover:bg-green-800/50">
                          Ușor
                        </div>
                        <div class="p-2 cursor-pointer hover:bg-green-800/50">
                          Mediu
                        </div>
                        <div class="p-2 cursor-pointer hover:bg-green-800/50">
                          Greu
                        </div>
                        <div class="p-2 cursor-pointer hover:bg-green-800/50">
                          Hardcore
                        </div>
                      </div>
                    </div>
                  </div>
                  <div
                    id="chicken-road-viewport"
                    class="w-full h-24 relative rounded-md border-y-4 border-gray-500"
                  >
                    <div
                      id="chicken-road-track"
                      class="h-full relative flex items-center"
                    ></div>
                    <img
                      id="chicken-icon"
                      src="https://iili.io/FvIoXhg.webp"
                      class="absolute h-16 w-16 top-1/2"
                      alt="Găină"
                    />
                  </div>
                  <p
                    id="chicken-bet-suggestion"
                    class="bet-suggestion-text text-center text-yellow-400 h-8 my-6 text-sm sm:text-xl font-bold px-2"
                  ></p>
                  <div
                    id="chicken-actions-initial"
                    class="flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4 w-full max-w-md"
                  >
                    <button
                      id="chicken-get-bet-btn"
                      class="flex-1 bg-green-600 text-black px-4 py-2 text-base hover:bg-green-500 transition-all duration-300 active:scale-95 rounded-md"
                    >
                      Obține mărimea pariului
                    </button>
                    <button
                      id="chicken-get-signal-btn"
                      class="flex-1 px-4 py-2 text-base transition-all duration-300 active:scale-95 rounded-md btn-disabled"
                      disabled
                    >
                      Obține semnal
                    </button>
                  </div>
                  <button
                    id="chicken-get-another-btn"
                    class="hidden w-full max-w-md bg-yellow-500 text-black px-4 py-2 text-base hover:bg-yellow-400 transition-all duration-300 active:scale-95 rounded-md"
                  >
                    OBȚINE ALT SEMNAL
                  </button>
                  <div
                    id="chicken-console"
                    class="game-console w-full max-w-md border rounded-md mt-6 p-2 font-mono text-xs overflow-y-auto"
                  >
                    <div></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div
            id="accessModal"
            class="fixed inset-0 bg-black bg-opacity-80 backdrop-blur-sm flex items-center justify-center p-4 hidden"
          >
            <div
              id="modalContainer"
              class="bg-[#0d0d0d] border border-green-500 rounded-lg p-6 md:p-8 w-full max-w-sm relative shadow-2xl shadow-green-500/30"
            >
              <button
                id="closeModalBtn"
                class="absolute top-2 right-3 text-gray-500 hover:text-green-400 text-3xl transition-colors"
              >
                ×
              </button>
              <div id="formContent" class="text-center">
                <p class="blinking-red text-sm mb-4">
                  // 3 coduri de acces disponibile pentru astăzi
                </p>
                <label for="accessCode" class="block text-xl mb-4"
                  >Introduceți codul de acces</label
                ><input
                  type="text"
                  id="accessCode"
                  name="accessCode"
                  class="hacker-input w-full bg-gray-900 border border-green-600 text-green-300 rounded p-3 text-center focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all"
                  placeholder="Cod de acces"
                />
                <p id="errorMessage" class="text-red-500 h-5 mt-2 text-sm"></p>
                <button
                  id="validateBtn"
                  class="mt-4 w-full bg-green-600 text-black px-6 py-2 text-lg hover:bg-green-500 transition-all duration-300 active:scale-95"
                >
                  VALIDARE
                </button>
              </div>
              <div
                id="statusContent"
                class="text-center hidden h-36 flex items-center justify-center"
              >
                <p id="statusText" class="text-2xl animate-pulse"></p>
              </div>
            </div>
          </div>
          <div
            id="videoModal"
            class="fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4 hidden z-50"
          >
            <div
              id="videoModalContainer"
              class="bg-[#0d0d0d] border border-green-500 rounded-lg w-full max-w-2xl relative shadow-2xl shadow-green-500/30"
            >
              <button
                id="closeVideoModalBtn"
                class="absolute -top-3 -right-3 text-black bg-white rounded-full h-8 w-8 flex items-center justify-center hover:bg-gray-200 text-2xl transition-colors z-10"
              >
                ×
              </button>
              <h3
                id="videoModalTitle"
                class="text-white text-xl p-4 text-center"
              ></h3>
              <div class="aspect-video">
                <iframe
                  id="youtube-player"
                  class="w-full h-full"
                  src=""
                  title="YouTube video player"
                  frameborder="0"
                  allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                  allowfullscreen
                ></iframe>
              </div>
              <div
                id="video-navigation"
                class="p-2 flex justify-center items-center gap-4"
              >
                <button
                  id="prevVideoBtn"
                  class="text-white disabled:text-gray-600"
                >
                  <i class="fas fa-arrow-left"></i>
                </button>
                <span id="video-counter" class="text-sm text-gray-400"></span>
                <button
                  id="nextVideoBtn"
                  class="text-white disabled:text-gray-600"
                >
                  <i class="fas fa-arrow-right"></i>
                </button>
              </div>
            </div>
          </div>

          <div
            id="promoModal"
            class="fixed inset-0 bg-black bg-opacity-80 backdrop-blur-sm flex items-center justify-center p-4 hidden z-[80]"
          >
            <div
              class="bg-[#0d0d0d] border border-yellow-500 rounded-lg p-6 w-full max-w-lg relative shadow-2xl shadow-yellow-500/30 text-center"
            >
              <button
                id="closePromoModalBtn"
                class="absolute top-2 right-3 text-gray-500 hover:text-yellow-400 text-3xl transition-colors"
              >
                ×
              </button>
              <h2 class="text-2xl text-yellow-300 mb-4 font-bold">
                O Promoție Excelentă!
              </h2>
              <p class="text-gray-300 mb-6">
                Avem o promoție excelentă sub forma Roții Norocului! Puteți
                câștiga premii în bani pe cardul dvs., acces privat, bonusuri,
                etc! Pentru a primi coduri speciale, scrieți cuvântul "WHEEL999"
                la mine pentru a obține instrucțiuni despre cum să obțineți un
                cod special!
              </p>
              <button
                id="openLotteryFromPromoBtn"
                class="shimmer-btn rounded-md px-8 py-3 text-lg"
              >
                <i class="fas fa-star mr-2"></i>Mergi la Roata Norocului
              </button>
            </div>
          </div>

          <div
            id="lotteryModal"
            class="fixed inset-0 bg-black bg-opacity-80 backdrop-blur-sm flex items-center justify-center p-4 hidden z-[60]"
          >
            <div
              class="bg-[#0d0d0d] border border-yellow-500 rounded-lg p-4 sm:p-6 md:p-8 w-full max-w-md sm:max-w-lg md:max-w-xl relative shadow-2xl shadow-yellow-500/30 text-center overflow-hidden"
            >
              <canvas
                id="confettiCanvas"
                class="absolute top-0 left-0 w-full h-full pointer-events-none z-20"
              ></canvas>
              <button
                id="closeLotteryModalBtn"
                class="absolute top-2 right-3 text-gray-500 hover:text-yellow-400 text-3xl transition-colors z-10"
              >
                ×
              </button>
              <h2
                class="text-3xl text-yellow-300 mb-4 font-bold"
                style="text-shadow: 0 0 8px #f6e05e"
              >
                Roata Norocului
              </h2>
              <div
                id="wheel-container"
                class="relative w-full max-w-[300px] sm:max-w-[400px] md:max-w-[450px] aspect-square mx-auto my-4 flex items-center justify-center"
              >
                <div
                  id="wheel-pointer"
                  class="absolute top-1/2 -right-4 -translate-y-1/2 w-0 h-0 border-t-[15px] sm:border-t-[20px] border-t-transparent border-b-[15px] sm:border-b-[20px] border-b-transparent border-l-[25px] sm:border-l-[30px] border-l-red-600 z-10 transform-gpu rotate-180"
                ></div>
                <canvas id="wheelCanvas"></canvas>
              </div>
              <div id="lottery-controls" class="flex flex-col items-center">
                <label
                  for="lotteryCode"
                  class="block text-lg mb-2 text-gray-300"
                  >Introduceți codul special</label
                >
                <input
                  type="text"
                  id="lotteryCode"
                  class="hacker-input w-full max-w-xs mx-auto bg-gray-900 border border-yellow-600 text-yellow-300 rounded p-3 text-center focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent transition-all"
                />
                <p
                  id="lotteryErrorMessage"
                  class="text-red-500 h-5 mt-2 text-sm"
                ></p>
                <div class="mt-4 w-full max-w-xs mx-auto flex gap-2">
                  <button
                    id="spinBtn"
                    class="flex-grow bg-yellow-500 text-black px-6 py-3 text-lg hover:bg-yellow-400 transition-all duration-300 active:scale-95 rounded-md font-bold disabled:bg-gray-600 disabled:cursor-not-allowed"
                  >
                    ROTEȘTE ROATA
                  </button>
                  <button
                    id="infoBtn"
                    class="bg-blue-600 text-white px-5 py-3 text-lg hover:bg-blue-500 transition-all duration-300 active:scale-95 rounded-md font-bold"
                  >
                    <i class="fas fa-info"></i>
                  </button>
                </div>
              </div>
              <div
                id="lottery-result"
                class="hidden min-h-[148px] flex flex-col items-center justify-center"
              >
                <p class="text-lg text-gray-400">Felicitări! Ai câștigat:</p>
                <p
                  id="lotteryResultText"
                  class="text-2xl sm:text-3xl text-yellow-300 font-bold mt-2"
                ></p>
                <p class="text-lg mt-2 blinking-text font-bold">
                  SCRIE-MI CE AI CÂȘTIGAT PENTRU A OBȚINE
                </p>
                <button
                  id="spinAgainBtn"
                  class="mt-4 w-full max-w-xs mx-auto bg-gray-700 text-yellow-300 px-6 py-2 text-base hover:bg-gray-600 transition-all duration-300 active:scale-95 rounded-md font-bold"
                >
                  Rotește din nou
                </button>
              </div>
            </div>
          </div>

          <div
            id="infoModal"
            class="fixed inset-0 bg-black bg-opacity-80 backdrop-blur-sm flex items-center justify-center p-4 hidden z-[70]"
          >
            <div
              class="bg-[#0d0d0d] border border-blue-500 rounded-lg p-6 w-full max-w-lg relative shadow-2xl shadow-blue-500/30"
            >
              <button
                id="closeInfoModalBtn"
                class="absolute top-2 right-3 text-gray-500 hover:text-blue-400 text-3xl transition-colors"
              >
                ×
              </button>
              <h2 class="text-2xl text-blue-300 mb-6 font-bold text-center">
                Informații premii
              </h2>

              <h3 class="text-lg text-white font-bold mb-2">
                Rate de câștig ale premiilor:
              </h3>
              <ol class="list-decimal list-inside text-gray-300 space-y-1">
                <li>
                  <span class="font-bold text-yellow-400"
                    >SEMNALE PERSONALE DE LA ADMIN</span
                  >
                  - 5%
                </li>
                <li>
                  <span class="font-bold text-yellow-400"
                    >100$ PE CARDUL TĂU</span
                  >
                  - 5%
                </li>
                <li>ACCES PREDICTOR VIP - 15%</li>
                <li>ACCES PREDICTOR SLOT - 15%</li>
                <li>+100% BONUS DEPOZIT - 20%</li>
                <li>+50% BONUS DEPOZIT - 20%</li>
                <li>NIMIC - 20%</li>
              </ol>

              <h3 class="text-lg text-white font-bold mt-6 mb-2">
                CUM OBȚII UN "COD SPECIAL"?
              </h3>
              <p class="text-gray-300">
                Pentru a primi coduri noi pentru ROATA NOROCULUI trebuie să
                scrii "WHEEL999" în chat-ul cu mine și vei primi instrucțiuni
                despre cum să câștigi un cod nou.
              </p>
              <p class="text-gray-400 text-sm mt-1">
                Codul poate fi folosit o singură dată.
              </p>

              <h3 class="text-lg text-white font-bold mt-6 mb-2">
                CUM REVENDICI PREMIUL?
              </h3>
              <p class="text-gray-300">
                Pentru a revendica premiul, trebuie să îmi scrii și să trimiți o
                captură de ecran cu ce ai câștigat. Nu încerca să trișezi,
                verific totul în sistem și în loguri.
              </p>
            </div>
          </div>

          <div
            id="chat-overlay"
            class="fixed inset-0 bg-black/60 z-40 hidden"
          ></div>
          <div class="fixed bottom-5 right-5 z-50">
            <button
              id="chat-toggle-btn"
              class="w-16 h-16 bg-green-500 rounded-full flex items-center justify-center text-black shadow-lg shadow-green-500/50 hover:scale-110 transition-transform"
            >
              <i class="fas fa-comments text-3xl"></i>
            </button>
            <div
              id="chat-widget"
              class="hidden absolute bottom-20 right-0 w-80 sm:w-96 h-[500px] bg-black/80 backdrop-blur-md border-2 border-green-600 rounded-lg flex flex-col"
            >
              <div
                class="p-3 flex justify-between items-center border-b border-green-800"
              >
                <h3 class="text-lg">// CHAT LIVE //</h3>
                <button
                  id="chat-close-btn"
                  class="text-gray-400 hover:text-green-400"
                >
                  <i class="fas fa-times"></i>
                </button>
              </div>
              <div
                id="chat-messages"
                class="flex-1 p-3 overflow-y-auto space-y-3"
              ></div>
              <div class="p-3 border-t border-green-800">
                <div class="flex space-x-2">
                  <input
                    type="text"
                    id="chat-input"
                    class="flex-1 bg-gray-900 border border-green-700 rounded px-2 text-sm focus:outline-none focus:ring-1 focus:ring-green-500"
                    placeholder="Mesajul tău..."
                  /><button
                    id="chat-send-btn"
                    class="bg-green-600 text-black px-4 py-1 rounded hover:bg-green-500 active:scale-95 disabled:bg-gray-600 disabled:cursor-not-allowed"
                  >
                    TRIMITE
                  </button>
                </div>
              </div>
            </div>
          </div>
          <script>
            document.addEventListener("DOMContentLoaded", () => {
              const SCRIPT_BODY = () => {
                const FEATURE_FLAGS = {
                  enableLottery: true,
                  enableBetStep: true,
                };
                const prizes = [];
                const lotteryCodes = {};
                const CUSTOM_CONFIG = {};
                const CARDS_CONFIG = [];
                const VIDEO_CONFIG = {};

                function generateAndInsertSlotCards() {
                  const slotConfigs = CARDS_CONFIG.filter((c) =>
                    c.id.startsWith("slot-")
                  );
                  if (slotConfigs.length === 0) return;

                  let slotsHtml = "";
                  slotConfigs.forEach((slot, index) => {
                    slotsHtml += `
                       <div class="signal-card locked-card bg-[#0d0d0d] border border-fuchsia-500 rounded-lg overflow-hidden flex flex-col" data-card-type="slot" data-game="${slot.id}">
                         <div class="w-full h-48 overflow-hidden relative">
                           <img src="${slot.image}" alt="${slot.title}" class="card-image w-full h-full object-cover transition-all duration-300"/>
                           <div class="banner-container absolute inset-0 flex items-center justify-center">
                             <div class="absolute w-[150%] bg-fuchsia-600 text-white text-center font-bold py-2 -rotate-12 text-sm shadow-lg">
                               NECESITĂ ALT COD DE ACCES </div>
                           </div>
                         </div>
                         <div class="p-4 flex flex-col flex-grow text-center">
                           <h3 class="card-title text-lg font-bold mb-2 flex-grow text-fuchsia-300" style="text-shadow: 0 0 8px #d946ef">
                             ${slot.title}
                           </h3>
                           <p id="stats-slot-${index}" class="text-sm text-gray-400 mb-3 font-mono leading-tight">
                             // Se încarcă datele... </p>
                           <button class="w-full mt-auto bg-gray-600 text-gray-400 px-4 py-2 cursor-not-allowed" disabled>
                             ACTIVEAZĂ </button>
                         </div>
                       </div>
                     `;
                  });

                  const vipCard = document.querySelector(
                    '[data-card-type="vip"]'
                  );
                  if (vipCard) {
                    vipCard.insertAdjacentHTML("afterend", slotsHtml);
                  }
                }

                function applyCardConfigs() {
                  const staticConfigs = CARDS_CONFIG.filter(
                    (c) => !c.id.startsWith("slot-")
                  );

                  staticConfigs.forEach((config) => {
                    const card = document.querySelector(
                      `.signal-card[data-game="${config.id}"]`
                    );
                    if (card) {
                      const titleEl = card.querySelector(".card-title");
                      const imageEl = card.querySelector(".card-image");
                      if (titleEl) titleEl.textContent = config.title;
                      if (imageEl) {
                        imageEl.src = config.image;
                        imageEl.alt = config.title;
                      }
                    }
                  });

                  const vipLink = document.getElementById(
                    "vip-send-message-link"
                  );
                  if (vipLink) {
                    vipLink.href = CUSTOM_CONFIG.vipLink;
                  }
                }

                // Translations for JavaScript strings
                const T = {
                  pageTitle: "PREDICTOR AI",
                  mainTitle: "PREDICTOR AI",
                  mainButton: "OBȚINE SEMNALE AI",
                  topWinners: "// STUDENȚII MEI //",
                  availableSignals: "// SEMNALE AI //",
                  logoutButton: "Deconectare",
                  activateButton: "ACTIVEAZĂ",
                  backButton: "&lt;-- Înapoi",
                  getBetButton: "Obține mărimea pariului",
                  getSignalButton: "Obține semnal",
                  getAnotherButton: "OBȚINE ALT SEMNAL",
                  startNewGame: "Începe joc nou",
                  howToUse: "CUM SE UTILIZEAZĂ PREDICTORUL",
                  howToFindGame: "CUM SE GĂSEȘTE JOCUL",
                  modalCodesAvailable:
                    "// 3 coduri de acces disponibile pentru astăzi",
                  modalTypeCode: "Introduceți codul de acces",
                  modalPlaceholder: "Cod de acces",
                  modalValidateButton: "VALIDARE",
                  analyzingData: "Se analizează datele...",
                  accessDenied: "ACCES RESPINS. COD INVALID.",
                  decryptingSignals: "Se decriptează semnalele...",
                  accessGranted: "ACCES ACORDAT",
                  betSuggestion:
                    "Pariază o sumă între {minBet} {currency} și {maxBet} {currency}",
                  signalRevealed: "Semnal AI: S-au dezvăluit 5 celule sigure",
                  signalTargetZone: "Semnal AI: Zona țintă {zone}",
                  signalTargetZoneWithCount:
                    "Semnal AI: Zona țintă {zone} ({count} semnale rămase)",
                  signalSelectRow:
                    "Semnal AI: Selectează rândul numărul {finalSignal}",
                  signalSelectRowWithCount:
                    "Semnal AI: Selectează rândul numărul {finalSignal} ({count} semnale rămase)",
                  signalClickGo: 'SEMNAL AI: APASĂ "GO" DE {signalSteps} ORI',
                  chatTitle: "// CHAT LIVE //",
                  chatPlaceholder: "Mesajul tău...",
                  chatSendButton: "TRIMITE",
                  chatLimitReached: "Limită de mesaje atinsă",
                  signalsPerSec: "Semnale/sec:",
                  successRate: "Rata de succes:",
                  needAnotherCode: "NECESITĂ ALT COD DE ACCES",
                  gridSize: "Mărimea grilei",
                  mineCount: "Număr mine",
                  difficulty: "Dificultate",
                  loadingData: "// Se încarcă datele...",
                  videoOf: "Video {current} din {total}",
                  betConsoleMessages: [
                    "Conectare la fluxul de date...",
                    "Analizarea volatilității pieței...",
                    "Calcularea raportului risc-recompensă...",
                    "Rularea modelului predictiv v3.4...",
                    "Finalizarea mărimii pariului...",
                    "SUCCES: Parametrii pariului calculați.",
                  ],
                  aviatorSignalConsoleMessages: [
                    "Inițierea analizei traiectoriei de zbor...",
                    "Procesarea vectorilor de ieșire în timp real...",
                    "Calibrarea pentru variația atmosferică...",
                    "Referențierea datelor istorice...",
                    "BLOCARE SEMNAL...",
                    "SUCCES: Semnal multiplicator achiziționat.",
                  ],
                  minesSignalConsoleMessages: [
                    "Pornirea scanerului de grilă...",
                    "Cartografierea matricei de probabilitate...",
                    "Executarea verificării cuantice...",
                    "Identificarea clusterelor de celule cu risc scăzut...",
                    "IZOLAREA CĂII SIGURE...",
                    "SUCCES: 5 celule sigure identificate.",
                  ],
                  penaltySignalConsoleMessages: [
                    "Accesarea modelelor neuronale ale portarului...",
                    "Calcularea probabilităților traiectoriei loviturii...",
                    "Analizarea condițiilor de vânt și teren...",
                    "Identificarea celui mai slab punct defensiv...",
                    "ȚINTĂ ACHIZIȚIONATĂ...",
                    "SUCCES: Zona optimă de lovitură prezisă.",
                  ],
                  appleSignalConsoleMessages: [
                    "Inițializarea algoritmului norocului...",
                    "Scanarea arborelui de probabilitate...",
                    "Sincronizarea cu randomizatorul cuantic...",
                    "Analizarea tiparelor antice de noroc...",
                    "RECOLTAREA REZULTATULUI...",
                    "SUCCES: Rezultatul norocos determinat.",
                  ],
                  chickenSignalConsoleMessages: [
                    "Analizarea modelelor de comportament ale găinii...",
                    "Calcularea căii optime...",
                    "Evitarea obstacolelor de fermă...",
                    "Prezicerea mișcărilor vulpii...",
                    "TRAVERSAREA DRUMULUI...",
                    "SUCCES: Cale sigură determinată.",
                  ],
                  slotSignalConsoleMessages: [
                    "Inițializarea algoritmului slot v2.1...",
                    "Analizarea probabilităților rolelor...",
                    "Calcularea frecvenței de declanșare a bonusului...",
                    "Referențierea datelor RTP...",
                    "BLOCAREA NUMĂRULUI DE ROTAȚII...",
                    "SUCCES: Număr optim de rotații pentru bonus achiziționat.",
                  ],
                  // Fake messages translated (optional, can keep English for realism)
                  fakeMessages: [
                    "cine a încercat penalty? vreun noroc",
                    "aviator e pe val azi am prins 5x deja!!",
                    "vreun cod promo băieți??",
                    "e legitim măcar lol pare suspect",
                    "admin adaugă semnale lucky jet te rog",
                    "Mines e super doar nu fiți lacomi",
                    "vinde cineva un cont? cumpăr eu",
                    "nu înțeleg chicken road vreun ghid",
                    "ăsta e cel mai bun predictor pe care l-am văzut",
                    "salut scepticilor mi-am dublat banca azi-noapte",
                    "de ce nu merge codul meu de acces",
                    "apple of fortune e OP",
                    "tocmai am retras 100$ mersi AI",
                    "asta pare ca și cum aș trișa haha",
                    "care e rata de succes pentru voi azi",
                    "penalty a ratat unul pentru mine dar tot sunt pe profit",
                    "amintiți-vă să gestionați riscurile oameni buni",
                    "la naiba eram la un pas pe mines...",
                    "chat-ul se mișcă așa repede",
                    "există un grup vip?",
                    "lol un tip plânge într-un colț",
                    "doar urmați semnalul și nu gândiți prea mult",
                    "funcționează. simplu.",
                    "prietenul meu mi-a spus de site-ul ăsta ieri",
                    "câte semnale pe zi?",
                    "sunt nou aici care-i faza",
                    "în sfârșit o unealtă care chiar funcționează",
                    "am nevoie de mai multe coduri de acces",
                    "tocmai am prins 10x pe aviator hai că mergemmm",
                    "e sigur de folosit chestia asta?",
                    "serverul pare puțin lent azi",
                    "lol am pierdut tot fiți atenți",
                    "am scos 50 de dolari nu-i rău pentru început",
                    "interfața e așa mișto parcă sunt într-un film",
                    "la naiba trebuia să mă opresc mai devreme",
                    "cineva din europa pe aici?",
                    "sistemul cu coduri de acces e inteligent",
                    "cine e adminul aici? am o întrebare",
                    "asta e mult mai bine decât canalele alea de tg înșelătoare",
                    "chicken road e subestimat lol e distractiv",
                    "aștept următorul semnal...",
                    "intru all in urați-mi noroc",
                    "pot folosi asta pe telefon?",
                    "inima îmi bate cu putere de fiecare dată când joc mines",
                    "AI-ul trebuie să fie nebun să prezică asta",
                  ],
                  qaPairs: [
                    // Translated Q&A (optional)
                    {
                      q: "e gratuit?",
                      a: "da semnalele sunt gratuite deocamdată",
                    },
                    {
                      q: "cum obțin un nou cod de acces?",
                      a: "se reîmprospătează zilnic cred",
                    },
                    {
                      q: "a încercat cineva apple of fortune? e profitabil?",
                      a: "este dar riscul e mare",
                    },
                    {
                      q: "prietenul meu nu poate intra site-ul e căzut?",
                      a: "la mine merge poate încearcă un vpn",
                    },
                    {
                      q: "ce se întâmplă dacă pierd?",
                      a: "face parte din joc omule nu paria mai mult decât îți permiți să pierzi",
                    },
                    {
                      q: "pot fi banat pentru că folosesc asta?",
                      a: "nu e doar un predictor nu un hack",
                    },
                    {
                      q: "vreun sfat pentru mines?",
                      a: "da începe cu pariuri mici și nu fi lacom",
                    },
                    {
                      q: "care e cea mai bună strategie pentru penalty?",
                      a: "așteaptă semnale cu probabilitate mare nu te grăbi",
                    },
                    {
                      q: "cât de precisă e chestia asta de fapt",
                      a: "destul de bună pentru mine gen 8/10 câștiguri",
                    },
                    {
                      q: "există o aplicație pentru asta?",
                      a: "încă nu dar site-ul merge bine pe mobil",
                    },
                    {
                      q: "de ce e blocat mesajul meu?",
                      a: "utilizatorii noi au o limită cred pentru a preveni spam-ul",
                    },
                  ],
                  userReplies: [
                    // Translated replies (optional)
                    'hei <span class="font-bold text-red-500">@{username}</span> doar încearcă și exersează te vei prinde',
                    '<span class="font-bold text-red-500">@{username}</span> nu există o singură strategie AI-ul se adaptează mereu doar privește și învață',
                  ],
                };

                // Rest of the JavaScript code remains unchanged...
                // ... (existing JS code) ...

                const mainContent = document.getElementById("main-content"),
                  appContainer = document.getElementById("app-container"),
                  signalsSection = document.getElementById("signals-section"),
                  gameView = document.getElementById("game-view"),
                  openModalBtn = document.getElementById("openModalBtn"),
                  accessModal = document.getElementById("accessModal"),
                  modalContainer = document.getElementById("modalContainer"),
                  closeModalBtn = document.getElementById("closeModalBtn"),
                  accessCodeInput = document.getElementById("accessCode"),
                  validateBtn = document.getElementById("validateBtn"),
                  formContent = document.getElementById("formContent"),
                  statusContent = document.getElementById("statusContent"),
                  statusText = document.getElementById("statusText"),
                  errorMessage = document.getElementById("errorMessage"),
                  chatToggleBtn = document.getElementById("chat-toggle-btn"),
                  chatCloseBtn = document.getElementById("chat-close-btn"),
                  chatWidget = document.getElementById("chat-widget"),
                  chatOverlay = document.getElementById("chat-overlay"),
                  chatMessages = document.getElementById("chat-messages"),
                  chatInput = document.getElementById("chat-input"),
                  chatSendBtn = document.getElementById("chat-send-btn"),
                  logoutBtn = document.getElementById("logoutBtn");
                let chatInterval;
                const aviatorMultiplier =
                    document.getElementById("aviator-multiplier"),
                  aviatorBetSuggestion = document.getElementById(
                    "aviator-bet-suggestion"
                  ),
                  aviatorGetBetBtn = document.getElementById(
                    "aviator-get-bet-btn"
                  ),
                  aviatorGetSignalBtn = document.getElementById(
                    "aviator-get-signal-btn"
                  ),
                  aviatorActionsInitial = document.getElementById(
                    "aviator-actions-initial"
                  ),
                  aviatorGetAnotherBtn = document.getElementById(
                    "aviator-get-another-btn"
                  ),
                  aviatorConsoleOutput =
                    document.getElementById("aviator-console");
                let aviatorSignalCount =
                    parseInt(localStorage.getItem("aviatorSignalCount")) || 0,
                  multiplierAnimation;
                const minesGridContainer = document.getElementById(
                    "mines-grid-container"
                  ),
                  minesBetSuggestion = document.getElementById(
                    "mines-bet-suggestion"
                  ),
                  minesGetBetBtn = document.getElementById("mines-get-bet-btn"),
                  minesGetSignalBtn = document.getElementById(
                    "mines-get-signal-btn"
                  ),
                  minesActionsInitial = document.getElementById(
                    "mines-actions-initial"
                  ),
                  minesGetAnotherBtn = document.getElementById(
                    "mines-get-another-btn"
                  ),
                  minesConsoleOutput = document.getElementById("mines-console");
                let minesState = { gridSize: 5, mineCount: 3 };
                const penaltyTargetZones = document
                    .getElementById("game-screen-penalty")
                    .querySelectorAll(".penalty-target-zone"),
                  penaltyBetSuggestion = document.getElementById(
                    "penalty-bet-suggestion"
                  ),
                  penaltyGetBetBtn = document.getElementById(
                    "penalty-get-bet-btn"
                  ),
                  penaltyGetSignalBtn = document.getElementById(
                    "penalty-get-signal-btn"
                  ),
                  penaltyActionsInitial = document.getElementById(
                    "penalty-actions-initial"
                  ),
                  penaltyStartNewGameBtn = document.getElementById(
                    "penalty-start-new-game-btn"
                  ),
                  penaltyConsoleOutput =
                    document.getElementById("penalty-console");
                let penaltySignalCountInRound = 0;
                const appleSignalDisplay = document.getElementById(
                    "apple-signal-display"
                  ),
                  appleBetSuggestion = document.getElementById(
                    "apple-bet-suggestion"
                  ),
                  appleGetBetBtn = document.getElementById("apple-get-bet-btn"),
                  appleGetSignalBtn = document.getElementById(
                    "apple-get-signal-btn"
                  ),
                  appleActionsInitial = document.getElementById(
                    "apple-actions-initial"
                  ),
                  appleStartNewGameBtn = document.getElementById(
                    "apple-start-new-game-btn"
                  ),
                  appleConsoleOutput = document.getElementById("apple-console");
                let appleSignalCountInRound = 0;
                const chickenIcon = document.getElementById("chicken-icon"),
                  chickenRoadTrack =
                    document.getElementById("chicken-road-track"),
                  chickenBetSuggestion = document.getElementById(
                    "chicken-bet-suggestion"
                  ),
                  chickenGetBetBtn = document.getElementById(
                    "chicken-get-bet-btn"
                  ),
                  chickenGetSignalBtn = document.getElementById(
                    "chicken-get-signal-btn"
                  ),
                  chickenActionsInitial = document.getElementById(
                    "chicken-actions-initial"
                  ),
                  chickenGetAnotherBtn = document.getElementById(
                    "chicken-get-another-btn"
                  ),
                  chickenConsoleOutput =
                    document.getElementById("chicken-console");
                let chickenState = { difficulty: "Easy", currentStep: 0 };
                const STOVE_WIDTH = 128;

                function applyVideoConfigs() {
                  for (const gameKey in VIDEO_CONFIG) {
                    const gameVideos = VIDEO_CONFIG[gameKey];
                    if (gameVideos.findGame && gameVideos.findGame.length > 0) {
                      const webIframe = document.getElementById(
                        `${gameKey}-find-game-web-iframe`
                      );
                      if (webIframe && gameVideos.findGame[0]) {
                        webIframe.src = gameVideos.findGame[0].url;
                      }

                      const appIframe = document.getElementById(
                        `${gameKey}-find-game-app-iframe`
                      );
                      if (appIframe && gameVideos.findGame[1]) {
                        appIframe.src = gameVideos.findGame[1].url;
                      }
                    }
                  }
                }

                generateAndInsertSlotCards();
                applyCardConfigs();
                applyVideoConfigs();

                if (!FEATURE_FLAGS.enableLottery) {
                  const lotteryBtn = document.getElementById("lotteryBtn");
                  if (lotteryBtn) lotteryBtn.style.display = "none";
                }

                function applyUnlocks() {
                  const vipUnlocked =
                    localStorage.getItem("vipUnlocked") === "true";
                  const slotUnlocked =
                    localStorage.getItem("slotUnlocked") === "true";

                  const vipCard = document.querySelector(
                    '[data-card-type="vip"]'
                  );
                  if (vipCard && vipUnlocked) {
                    vipCard.classList.remove("locked-card");
                    const bannerContainer =
                      vipCard.querySelector(".banner-container");
                    if (bannerContainer) bannerContainer.remove();
                    const button = vipCard.querySelector("button");
                    button.disabled = false;
                    button.classList.remove(
                      "bg-gray-600",
                      "text-gray-400",
                      "cursor-not-allowed"
                    );
                    button.classList.add(
                      "bg-yellow-500",
                      "text-black",
                      "hover:bg-yellow-400",
                      "active:scale-95",
                      "activate-btn"
                    );
                    button.textContent = "INTRĂ VIP"; // Translated button text
                  }

                  const slotCards = document.querySelectorAll(
                    '[data-card-type="slot"]'
                  );
                  slotCards.forEach((slotCard) => {
                    if (slotCard && slotUnlocked) {
                      slotCard.classList.remove("locked-card");
                      const bannerContainer =
                        slotCard.querySelector(".banner-container");
                      if (bannerContainer) bannerContainer.remove();
                      const button = slotCard.querySelector("button");
                      button.disabled = false;
                      button.classList.remove(
                        "bg-gray-600",
                        "text-gray-400",
                        "cursor-not-allowed"
                      );
                      button.classList.add(
                        "bg-fuchsia-500",
                        "text-black",
                        "hover:bg-fuchsia-400",
                        "active:scale-95",
                        "activate-btn"
                      );
                      button.textContent = T.activateButton; // Use translated text
                    }
                  });
                }

                function checkAccessSession() {
                  const e = localStorage.getItem("accessGrantedTimestamp");
                  if (e) {
                    const t = new Date().getTime();
                    if (t - parseInt(e) < 144e5) {
                      // 4 hours in ms
                      mainContent.classList.add("hidden");
                      appContainer.classList.remove("hidden");
                      applyUnlocks();
                    } else {
                      localStorage.removeItem("accessGrantedTimestamp");
                      localStorage.removeItem("vipUnlocked");
                      localStorage.removeItem("slotUnlocked");
                    }
                  }
                }
                const handleValidation = () => {
                  const code = accessCodeInput.value.trim();
                  let accessGranted = false;

                  localStorage.removeItem("vipUnlocked");
                  localStorage.removeItem("slotUnlocked");

                  // Specific code checks remain the same
                  if (code === "1337") {
                    localStorage.setItem("slotUnlocked", "true");
                    accessGranted = true;
                  } else if (code === "8564") {
                    localStorage.setItem("vipUnlocked", "true");
                    accessGranted = true;
                  } else if (code === "2282") {
                    accessGranted = true;
                  }

                  if (accessGranted) {
                    localStorage.setItem(
                      "accessGrantedTimestamp",
                      new Date().getTime()
                    );
                    formContent.classList.add("hidden");
                    statusContent.classList.remove("hidden");
                    statusText.textContent = T.decryptingSignals;
                    setTimeout(() => {
                      statusText.textContent = T.accessGranted;
                      statusText.classList.remove("animate-pulse");
                      setTimeout(() => {
                        closeModal();
                        mainContent.classList.add("hidden");
                        appContainer.classList.remove("hidden");
                        applyUnlocks();
                        if (!sessionStorage.getItem("promoShownThisSession")) {
                          showPromoModal();
                          sessionStorage.setItem(
                            "promoShownThisSession",
                            "true"
                          );
                        }
                        startPromoInterval();
                      }, 1e3); // 1 second
                    }, 2500); // 2.5 seconds
                  } else {
                    errorMessage.textContent = T.accessDenied;
                    accessCodeInput.value = "";
                    modalContainer.classList.add("shake");
                    setTimeout(
                      () => modalContainer.classList.remove("shake"),
                      500 // 0.5 seconds
                    );
                  }
                };
                const openModal = () => {
                  accessModal.classList.remove("hidden");
                  setTimeout(() => accessCodeInput.focus(), 50);
                };
                const closeModal = () => {
                  accessModal.classList.add("hidden");
                  setTimeout(() => {
                    formContent.classList.remove("hidden");
                    statusContent.classList.add("hidden");
                    statusText.classList.add("animate-pulse");
                    errorMessage.textContent = "";
                    accessCodeInput.value = "";
                  }, 300); // 0.3 seconds
                };
                function showGameView(gameId) {
                  signalsSection.classList.add("hidden");
                  gameView.classList.remove("hidden");
                  document
                    .querySelectorAll(".game-screen")
                    .forEach((t) => t.classList.add("hidden"));

                  const cardConfig = CARDS_CONFIG.find((c) => c.id === gameId);
                  if (!cardConfig) return;

                  const gameScreenId = gameId.startsWith("slot-")
                    ? "game-screen-slot"
                    : `game-screen-${gameId}`;
                  const gameScreen = document.getElementById(gameScreenId);

                  if (gameScreen) {
                    const gameTitleEl = gameScreen.querySelector(".game-title");
                    if (gameTitleEl) {
                      gameTitleEl.textContent = cardConfig.title;
                    }

                    gameScreen.classList.remove("hidden");
                    gameScreen.classList.add("flex");

                    const videoSection = gameScreen.querySelector(
                      ".video-tutorial-section"
                    );
                    const predictorSection =
                      gameScreen.querySelector(".predictor-section");

                    if (videoSection && predictorSection) {
                      if (cardConfig.showFindGame) {
                        videoSection.classList.remove("hidden");
                        predictorSection.classList.add("hidden");
                      } else {
                        videoSection.classList.add("hidden");
                        predictorSection.classList.remove("hidden");
                        predictorSection.classList.add("flex");
                      }
                    }
                  }

                  if (gameId === "aviator") resetAviatorGame();
                  else if (gameId === "mines") resetMinesGame();
                  else if (gameId === "penalty") resetPenaltyGame();
                  else if (gameId === "apple") resetAppleGame();
                  else if (gameId === "chicken") resetChickenGame();
                  else if (gameId.startsWith("slot-")) resetSlotGame();
                }
                function showSignalsView() {
                  gameView.classList.add("hidden");
                  signalsSection.classList.remove("hidden");
                }
                function runConsoleSimulation(e, t, n) {
                  if (!e) return;
                  const o = e.querySelector("div");
                  if (!o) return;
                  o.innerHTML = "";
                  let a = 0;
                  const s = setInterval(() => {
                    if (a < t.length) {
                      const e = document.createElement("p");
                      (e.textContent = `> ${t[a]}`),
                        t[a].startsWith("SUCCES") && // Check for Romanian SUCCESS equivalent
                          e.classList.add("success"),
                        o.appendChild(e),
                        (o.scrollTop = o.scrollHeight),
                        a++;
                    } else clearInterval(s), n && n();
                  }, 300); // 0.3 seconds
                }

                function resetAviatorGame() {
                  clearInterval(multiplierAnimation);
                  aviatorMultiplier.textContent = "x1.00";
                  aviatorMultiplier.classList.remove(
                    "multiplier-rising",
                    "multiplier-final"
                  );
                  aviatorBetSuggestion.textContent = "";
                  if (aviatorConsoleOutput.querySelector("div")) {
                    aviatorConsoleOutput.querySelector("div").innerHTML = "";
                  }
                  aviatorActionsInitial.classList.remove("hidden");
                  aviatorGetAnotherBtn.classList.add("hidden");
                  if (FEATURE_FLAGS.enableBetStep) {
                    aviatorGetBetBtn.style.display = "";
                    aviatorGetBetBtn.disabled = false;
                    aviatorGetBetBtn.classList.remove("btn-disabled");
                    aviatorGetSignalBtn.disabled = true;
                    aviatorGetSignalBtn.classList.add("btn-disabled");
                    aviatorGetSignalBtn.classList.remove(
                      "bg-green-600",
                      "text-black",
                      "hover:bg-green-500"
                    );
                  } else {
                    aviatorGetBetBtn.style.display = "none";
                    aviatorGetSignalBtn.disabled = false;
                    aviatorGetSignalBtn.classList.remove("btn-disabled");
                    aviatorGetSignalBtn.classList.add(
                      "bg-green-600",
                      "text-black",
                      "hover:bg-green-500",
                      "w-full"
                    );
                  }
                }
                aviatorGetBetBtn.addEventListener("click", () => {
                  (aviatorGetBetBtn.disabled = !0),
                    aviatorGetBetBtn.classList.add("btn-disabled"),
                    (aviatorBetSuggestion.textContent = T.analyzingData),
                    runConsoleSimulation(
                      aviatorConsoleOutput,
                      T.betConsoleMessages,
                      () => {
                        const e = CUSTOM_CONFIG.minBet,
                          t = CUSTOM_CONFIG.maxBet,
                          n = CUSTOM_CONFIG.currency;
                        (aviatorBetSuggestion.textContent = T.betSuggestion
                          .replace("{minBet}", e)
                          .replace("{maxBet}", t)
                          .replace(/{currency}/g, n)),
                          (aviatorGetSignalBtn.disabled = !1),
                          aviatorGetSignalBtn.classList.remove("btn-disabled"),
                          aviatorGetSignalBtn.classList.add(
                            "bg-green-600",
                            "text-black",
                            "hover:bg-green-500"
                          );
                      }
                    );
                });
                aviatorGetSignalBtn.addEventListener("click", () => {
                  if (aviatorGetSignalBtn.disabled) return;
                  (aviatorGetSignalBtn.disabled = !0),
                    aviatorGetSignalBtn.classList.add("btn-disabled"),
                    (aviatorBetSuggestion.textContent = T.analyzingData),
                    runConsoleSimulation(
                      aviatorConsoleOutput,
                      T.aviatorSignalConsoleMessages,
                      () => {
                        let e;
                        aviatorSignalCount++,
                          localStorage.setItem(
                            "aviatorSignalCount",
                            aviatorSignalCount
                          ),
                          (e =
                            aviatorSignalCount <= 7
                              ? 1.2 + 1.2 * Math.random() // Logic for multiplier stays
                              : 1.01 + 13.99 * Math.random()),
                          (aviatorBetSuggestion.textContent = "");
                        const t = e.toFixed(2);
                        (aviatorMultiplier.textContent = `x${t}`),
                          aviatorMultiplier.classList.remove(
                            "multiplier-rising"
                          ),
                          aviatorMultiplier.classList.add("multiplier-final"),
                          aviatorActionsInitial.classList.add("hidden"),
                          aviatorGetAnotherBtn.classList.remove("hidden");
                      }
                    );
                });
                aviatorGetAnotherBtn.addEventListener("click", () =>
                  resetAviatorGame(false)
                );

                function resetMinesGame() {
                  const gridSizeSelect = document.querySelector(
                    '[data-select-id="grid-size"] .selected-option'
                  );
                  const mineCountSelect = document.querySelector(
                    '[data-select-id="mine-count"] .selected-option'
                  );
                  if (gridSizeSelect)
                    gridSizeSelect.textContent = `${minesState.gridSize}x${minesState.gridSize}`;
                  if (mineCountSelect)
                    mineCountSelect.textContent = minesState.mineCount;
                  renderMinesGrid();
                  minesBetSuggestion.textContent = "";
                  if (minesConsoleOutput.querySelector("div")) {
                    minesConsoleOutput.querySelector("div").innerHTML = "";
                  }
                  minesActionsInitial.classList.remove("hidden");
                  minesGetAnotherBtn.classList.add("hidden");

                  if (FEATURE_FLAGS.enableBetStep) {
                    minesGetBetBtn.style.display = "";
                    minesGetBetBtn.disabled = false;
                    minesGetBetBtn.classList.remove("btn-disabled");
                    minesGetSignalBtn.disabled = true;
                    minesGetSignalBtn.classList.add("btn-disabled");
                    minesGetSignalBtn.classList.remove(
                      "bg-green-600",
                      "text-black",
                      "hover:bg-green-500"
                    );
                  } else {
                    minesGetBetBtn.style.display = "none";
                    minesGetSignalBtn.disabled = false;
                    minesGetSignalBtn.classList.remove("btn-disabled");
                    minesGetSignalBtn.classList.add(
                      "bg-green-600",
                      "text-black",
                      "hover:bg-green-500",
                      "w-full"
                    );
                  }
                }
                function renderMinesGrid() {
                  minesGridContainer.innerHTML = "";
                  const e = minesState.gridSize;
                  (minesGridContainer.className =
                    "grid gap-2 w-full max-w-md aspect-square"),
                    (minesGridContainer.style.gridTemplateColumns = `repeat(${e}, minmax(0, 1fr))`);
                  for (let t = 0; t < e * e; t++) {
                    const e = document.createElement("div");
                    (e.className =
                      "mine-cell flex items-center justify-center"),
                      minesGridContainer.appendChild(e);
                  }
                }
                minesGetBetBtn.addEventListener("click", () => {
                  (minesGetBetBtn.disabled = !0),
                    minesGetBetBtn.classList.add("btn-disabled"),
                    (minesBetSuggestion.textContent = T.analyzingData),
                    runConsoleSimulation(
                      minesConsoleOutput,
                      T.betConsoleMessages,
                      () => {
                        const e = CUSTOM_CONFIG.minBet,
                          t = CUSTOM_CONFIG.maxBet,
                          n = CUSTOM_CONFIG.currency;
                        (minesBetSuggestion.textContent = T.betSuggestion
                          .replace("{minBet}", e)
                          .replace("{maxBet}", t)
                          .replace(/{currency}/g, n)),
                          (minesGetSignalBtn.disabled = !1),
                          minesGetSignalBtn.classList.remove("btn-disabled"),
                          minesGetSignalBtn.classList.add(
                            "bg-green-600",
                            "text-black",
                            "hover:bg-green-500"
                          );
                      }
                    );
                });
                minesGetSignalBtn.addEventListener("click", () => {
                  if (minesGetSignalBtn.disabled) return;
                  (minesGetSignalBtn.disabled = !0),
                    minesGetSignalBtn.classList.add("btn-disabled"),
                    (minesBetSuggestion.textContent = T.analyzingData),
                    runConsoleSimulation(
                      minesConsoleOutput,
                      T.minesSignalConsoleMessages,
                      () => {
                        const e =
                            minesGridContainer.querySelectorAll(".mine-cell"),
                          t = e.length,
                          n = Array.from(Array(t).keys());
                        for (let e = n.length - 1; e > 0; e--) {
                          // Shuffle logic stays
                          const t = Math.floor(Math.random() * (e + 1));
                          [n[e], n[t]] = [n[t], n[e]];
                        }
                        const o = n.slice(0, 5); // Select 5 safe cells logic stays
                        (minesBetSuggestion.textContent = T.signalRevealed),
                          o.forEach((t) => {
                            e[t].classList.add("safe");
                          }),
                          minesActionsInitial.classList.add("hidden"),
                          minesGetAnotherBtn.classList.remove("hidden");
                      }
                    );
                });
                minesGetAnotherBtn.addEventListener("click", () =>
                  resetMinesGame(false)
                );

                function resetPenaltyGame() {
                  penaltyTargetZones.forEach((e) => {
                    e.classList.remove("highlight"), (e.style.transform = "");
                  });
                  penaltyBetSuggestion.textContent = "";
                  penaltySignalCountInRound = 0;
                  if (penaltyConsoleOutput.querySelector("div")) {
                    penaltyConsoleOutput.querySelector("div").innerHTML = "";
                  }
                  penaltyActionsInitial.classList.remove("hidden");
                  penaltyStartNewGameBtn.classList.add("hidden");

                  if (FEATURE_FLAGS.enableBetStep) {
                    penaltyGetBetBtn.style.display = "";
                    penaltyGetBetBtn.disabled = false;
                    penaltyGetBetBtn.classList.remove("btn-disabled");
                    penaltyGetSignalBtn.disabled = true;
                    penaltyGetSignalBtn.classList.add("btn-disabled");
                    penaltyGetSignalBtn.classList.remove(
                      "bg-green-600",
                      "text-black",
                      "hover:bg-green-500"
                    );
                  } else {
                    penaltyGetBetBtn.style.display = "none";
                    penaltyGetSignalBtn.disabled = false;
                    penaltyGetSignalBtn.classList.remove("btn-disabled");
                    penaltyGetSignalBtn.classList.add(
                      "bg-green-600",
                      "text-black",
                      "hover:bg-green-500",
                      "w-full"
                    );
                  }
                }
                penaltyGetBetBtn.addEventListener("click", () => {
                  (penaltyGetBetBtn.disabled = !0),
                    penaltyGetBetBtn.classList.add("btn-disabled"),
                    (penaltyBetSuggestion.textContent = T.analyzingData),
                    runConsoleSimulation(
                      penaltyConsoleOutput,
                      T.betConsoleMessages,
                      () => {
                        const e = CUSTOM_CONFIG.minBet,
                          t = CUSTOM_CONFIG.maxBet,
                          n = CUSTOM_CONFIG.currency;
                        (penaltyBetSuggestion.textContent = T.betSuggestion
                          .replace("{minBet}", e)
                          .replace("{maxBet}", t)
                          .replace(/{currency}/g, n)),
                          (penaltyGetSignalBtn.disabled = !1),
                          penaltyGetSignalBtn.classList.remove("btn-disabled"),
                          penaltyGetSignalBtn.classList.add(
                            "bg-green-600",
                            "text-black",
                            "hover:bg-green-500"
                          );
                      }
                    );
                });
                penaltyGetSignalBtn.addEventListener("click", () => {
                  if (penaltyGetSignalBtn.disabled) return;
                  (penaltyGetSignalBtn.disabled = !0),
                    (penaltyBetSuggestion.textContent = T.analyzingData),
                    runConsoleSimulation(
                      penaltyConsoleOutput,
                      T.penaltySignalConsoleMessages,
                      () => {
                        penaltyTargetZones.forEach((e) => {
                          // Reset highlights
                          e.classList.remove("highlight"),
                            (e.style.transform = "");
                        });
                        const e = Math.floor(
                            // Random zone selection logic stays
                            Math.random() * penaltyTargetZones.length
                          ),
                          t = penaltyTargetZones[e];
                        t.classList.add("highlight"), // Highlight logic stays
                          "3" === t.dataset.zone // Transform logic stays
                            ? (t.style.transform =
                                "translateX(-50%) scale(1.1)")
                            : (t.style.transform = "scale(1.1)"),
                          penaltySignalCountInRound++,
                          (penaltyBetSuggestion.textContent =
                            T.signalTargetZoneWithCount // Use translated string
                              .replace("{zone}", t.dataset.zone)
                              .replace(
                                "{count}",
                                5 - penaltySignalCountInRound // Logic for count stays
                              )),
                          1 === penaltySignalCountInRound && // Show button logic stays
                            penaltyStartNewGameBtn.classList.remove("hidden"),
                          penaltySignalCountInRound >= 5 // Reset logic stays
                            ? setTimeout(() => resetPenaltyGame(false), 3e3) // 3 seconds
                            : (penaltyGetSignalBtn.disabled = !1); // Enable button if not max signals
                      }
                    );
                });
                penaltyStartNewGameBtn.addEventListener("click", () =>
                  resetPenaltyGame(false)
                );

                function resetAppleGame() {
                  appleSignalDisplay.textContent = "#";
                  appleSignalDisplay.classList.remove("number-signal-display");
                  appleBetSuggestion.textContent = "";
                  appleSignalCountInRound = 0;
                  if (appleConsoleOutput.querySelector("div")) {
                    appleConsoleOutput.querySelector("div").innerHTML = "";
                  }
                  appleActionsInitial.classList.remove("hidden");
                  appleStartNewGameBtn.classList.add("hidden");

                  if (FEATURE_FLAGS.enableBetStep) {
                    appleGetBetBtn.style.display = "";
                    appleGetBetBtn.disabled = false;
                    appleGetBetBtn.classList.remove("btn-disabled");
                    appleGetSignalBtn.disabled = true;
                    appleGetSignalBtn.classList.add("btn-disabled");
                    appleGetSignalBtn.classList.remove(
                      "bg-green-600",
                      "text-black",
                      "hover:bg-green-500"
                    );
                  } else {
                    appleGetBetBtn.style.display = "none";
                    appleGetSignalBtn.disabled = false;
                    appleGetSignalBtn.classList.remove("btn-disabled");
                    appleGetSignalBtn.classList.add(
                      "bg-green-600",
                      "text-black",
                      "hover:bg-green-500",
                      "w-full"
                    );
                  }
                }
                appleGetBetBtn.addEventListener("click", () => {
                  (appleGetBetBtn.disabled = !0),
                    appleGetBetBtn.classList.add("btn-disabled"),
                    (appleBetSuggestion.textContent = T.analyzingData),
                    runConsoleSimulation(
                      appleConsoleOutput,
                      T.betConsoleMessages,
                      () => {
                        const e = CUSTOM_CONFIG.minBet,
                          t = CUSTOM_CONFIG.maxBet,
                          n = CUSTOM_CONFIG.currency;
                        (appleBetSuggestion.textContent = T.betSuggestion
                          .replace("{minBet}", e)
                          .replace("{maxBet}", t)
                          .replace(/{currency}/g, n)),
                          (appleGetSignalBtn.disabled = !1),
                          appleGetSignalBtn.classList.remove("btn-disabled"),
                          appleGetSignalBtn.classList.add(
                            "bg-green-600",
                            "text-black",
                            "hover:bg-green-500"
                          );
                      }
                    );
                });
                appleGetSignalBtn.addEventListener("click", () => {
                  if (appleGetSignalBtn.disabled) return;
                  (appleGetSignalBtn.disabled = !0),
                    (appleBetSuggestion.textContent = T.analyzingData),
                    runConsoleSimulation(
                      appleConsoleOutput,
                      T.appleSignalConsoleMessages,
                      () => {
                        appleSignalDisplay.classList.remove(
                          // Reset display style
                          "number-signal-display"
                        );
                        const e = Math.floor(5 * Math.random()) + 1; // Random number logic stays
                        (appleSignalDisplay.textContent = e),
                          appleSignalDisplay.classList.add(
                            // Apply display style
                            "number-signal-display"
                          ),
                          appleSignalCountInRound++,
                          (appleBetSuggestion.textContent =
                            T.signalSelectRowWithCount // Use translated string
                              .replace("{finalSignal}", e)
                              .replace(
                                "{count}",
                                10 - appleSignalCountInRound // Logic for count stays
                              )),
                          1 === appleSignalCountInRound && // Show button logic stays
                            appleStartNewGameBtn.classList.remove("hidden"),
                          appleSignalCountInRound >= 10 // Reset logic stays
                            ? setTimeout(() => resetAppleGame(!1), 3e3) // 3 seconds
                            : (appleGetSignalBtn.disabled = !1); // Enable button if not max signals
                      }
                    );
                });
                appleStartNewGameBtn.addEventListener("click", () =>
                  resetAppleGame(false)
                );

                function resetChickenGame() {
                  const difficultySelect = document.querySelector(
                    '[data-select-id="chicken-difficulty"] .selected-option'
                  );
                  if (difficultySelect) {
                    // Translate difficulty options if needed here
                    // Example:
                    // const difficultyMap = { Easy: 'Ușor', Medium: 'Mediu', Hard: 'Greu', Hardcore: 'Hardcore' };
                    // difficultySelect.textContent = difficultyMap[chickenState.difficulty] || chickenState.difficulty;
                    difficultySelect.textContent = chickenState.difficulty; // Keeping English for now, change if needed
                  }
                  chickenState.currentStep = 0;
                  renderChickenStoves(true);
                  chickenBetSuggestion.textContent = "";
                  if (chickenConsoleOutput.querySelector("div")) {
                    chickenConsoleOutput.querySelector("div").innerHTML = "";
                  }
                  chickenActionsInitial.classList.remove("hidden");
                  chickenGetAnotherBtn.classList.add("hidden");

                  if (FEATURE_FLAGS.enableBetStep) {
                    chickenGetBetBtn.style.display = "";
                    chickenGetBetBtn.disabled = false;
                    chickenGetBetBtn.classList.remove("btn-disabled");
                    chickenGetSignalBtn.disabled = true;
                    chickenGetSignalBtn.classList.add("btn-disabled");
                    chickenGetSignalBtn.classList.remove(
                      "bg-green-600",
                      "text-black",
                      "hover:bg-green-500"
                    );
                  } else {
                    chickenGetBetBtn.style.display = "none";
                    chickenGetSignalBtn.disabled = false;
                    chickenGetSignalBtn.classList.remove("btn-disabled");
                    chickenGetSignalBtn.classList.add(
                      "bg-green-600",
                      "text-black",
                      "hover:bg-green-500",
                      "w-full"
                    );
                  }
                }
                function renderChickenStoves(e) {
                  if (e) {
                    // If resetting
                    chickenRoadTrack.innerHTML = "";
                    for (let e = 0; e < 10; e++) {
                      // Create initial stoves
                      const t = document.createElement("div");
                      (t.className =
                        "chicken-stove absolute w-24 h-24 rounded-md"),
                        (t.style.left = `${e * STOVE_WIDTH}px`),
                        (t.style.top = "50%"),
                        (t.style.transform = "translateY(-50%)"),
                        chickenRoadTrack.appendChild(t);
                    }
                  }
                  // Position chicken and track - logic stays
                  const t = 1.5 * STOVE_WIDTH - chickenIcon.offsetWidth / 2;
                  (chickenIcon.style.left = `${t}px`),
                    (chickenIcon.style.transform = "translateY(-50%)"),
                    (chickenRoadTrack.style.transform = "translateX(0px)");
                }
                async function animateChicken(e) {
                  // Animation steps
                  for (let t = 0; t < e; t++) {
                    chickenState.currentStep++,
                      (chickenIcon.style.transform =
                        "translateY(-100%) scale(1.1)"), // Jump up
                      await new Promise((e) => setTimeout(e, 100)), // Wait
                      (chickenRoadTrack.style.transform = `translateX(-${
                        // Move track
                        chickenState.currentStep * STOVE_WIDTH
                      }px)`),
                      await new Promise((e) => setTimeout(e, 100)), // Wait
                      (chickenIcon.style.transform =
                        "translateY(-50%) scale(1)"), // Land
                      await new Promise((e) => setTimeout(e, 100)); // Wait
                    // Add new stove logic stays
                    const n = document.createElement("div");
                    n.className = "chicken-stove absolute w-24 h-24 rounded-md";
                    const o = chickenRoadTrack.lastChild,
                      a =
                        (o ? parseFloat(o.style.left) : -STOVE_WIDTH) +
                        STOVE_WIDTH;
                    (n.style.left = `${a}px`),
                      (n.style.top = "50%"),
                      (n.style.transform = "translateY(-50%)"),
                      chickenRoadTrack.appendChild(n);
                  }
                  // Show 'Get Another' button logic stays
                  chickenActionsInitial.classList.add("hidden"),
                    chickenGetAnotherBtn.classList.remove("hidden");
                }
                chickenGetBetBtn.addEventListener("click", () => {
                  (chickenGetBetBtn.disabled = !0),
                    chickenGetBetBtn.classList.add("btn-disabled"),
                    (chickenBetSuggestion.textContent = T.analyzingData),
                    runConsoleSimulation(
                      chickenConsoleOutput,
                      T.betConsoleMessages,
                      () => {
                        const e = CUSTOM_CONFIG.minBet,
                          t = CUSTOM_CONFIG.maxBet,
                          n = CUSTOM_CONFIG.currency;
                        (chickenBetSuggestion.textContent = T.betSuggestion
                          .replace("{minBet}", e)
                          .replace("{maxBet}", t)
                          .replace(/{currency}/g, n)),
                          (chickenGetSignalBtn.disabled = !1),
                          chickenGetSignalBtn.classList.remove("btn-disabled"),
                          chickenGetSignalBtn.classList.add(
                            "bg-green-600",
                            "text-black",
                            "hover:bg-green-500"
                          );
                      }
                    );
                });
                chickenGetSignalBtn.addEventListener("click", () => {
                  if (chickenGetSignalBtn.disabled) return;
                  (chickenGetSignalBtn.disabled = !0),
                    chickenGetSignalBtn.classList.add("btn-disabled"),
                    (chickenBetSuggestion.textContent = T.analyzingData),
                    runConsoleSimulation(
                      chickenConsoleOutput,
                      T.chickenSignalConsoleMessages,
                      () => {
                        let e; // Determine steps based on difficulty - logic stays
                        switch (
                          chickenState.difficulty // Use English difficulty names for logic
                        ) {
                          case "Medium":
                            e = 10;
                            break;
                          case "Hard":
                            e = 8;
                            break;
                          case "Hardcore":
                            e = 4;
                            break;
                          default: // Easy
                            e = 12;
                        }
                        const t = Math.floor(Math.random() * e) + 1; // Random steps logic stays
                        (chickenBetSuggestion.textContent =
                          T.signalClickGo.replace("{signalSteps}", t)), // Use translated string
                          animateChicken(t); // Start animation
                      }
                    );
                });
                chickenGetAnotherBtn.addEventListener("click", () =>
                  resetChickenGame(false)
                );
                function resetSlotGame() {
                  const gameScreen =
                    document.getElementById("game-screen-slot");
                  if (!gameScreen) return;

                  const slotNumber = gameScreen.querySelector(".slot-number");
                  const slotBetSuggestion = gameScreen.querySelector(
                    ".bet-suggestion-text"
                  );
                  const slotConsoleOutput =
                    gameScreen.querySelector(".game-console");
                  const slotActionsInitial = gameScreen.querySelector(
                    ".slot-actions-initial"
                  );
                  const slotGetAnotherBtn = gameScreen.querySelector(
                    ".slot-get-another-btn"
                  );
                  const slotGetBetBtn =
                    gameScreen.querySelector(".slot-get-bet-btn");
                  const slotGetSignalBtn = gameScreen.querySelector(
                    ".slot-get-signal-btn"
                  );

                  slotNumber.textContent = "#";
                  slotBetSuggestion.textContent = "";
                  if (
                    slotConsoleOutput &&
                    slotConsoleOutput.querySelector("div")
                  ) {
                    slotConsoleOutput.querySelector("div").innerHTML = "";
                  }
                  slotActionsInitial.classList.remove("hidden");
                  slotGetAnotherBtn.classList.add("hidden");

                  if (FEATURE_FLAGS.enableBetStep) {
                    slotGetBetBtn.style.display = "";
                    slotGetBetBtn.disabled = false;
                    slotGetBetBtn.classList.remove("btn-disabled");
                    slotGetSignalBtn.disabled = true;
                    slotGetSignalBtn.classList.add("btn-disabled");
                    slotGetSignalBtn.classList.remove(
                      "bg-green-600",
                      "text-black",
                      "hover:bg-green-500"
                    );
                  } else {
                    slotGetBetBtn.style.display = "none";
                    slotGetSignalBtn.disabled = false;
                    slotGetSignalBtn.classList.remove("btn-disabled");
                    slotGetSignalBtn.classList.add(
                      "bg-green-600",
                      "text-black",
                      "hover:bg-green-500",
                      "w-full"
                    );
                  }
                }

                gameView.addEventListener("click", (e) => {
                  const target = e.target;
                  const gameScreen = target.closest("#game-screen-slot");
                  if (!gameScreen) return;

                  if (target.matches(".slot-get-bet-btn")) {
                    const slotGetBetBtn = target;
                    const slotBetSuggestion = gameScreen.querySelector(
                      ".bet-suggestion-text"
                    );
                    const slotConsoleOutput =
                      gameScreen.querySelector(".game-console");
                    const slotGetSignalBtn = gameScreen.querySelector(
                      ".slot-get-signal-btn"
                    );

                    slotGetBetBtn.disabled = true;
                    slotGetBetBtn.classList.add("btn-disabled");
                    slotBetSuggestion.textContent = T.analyzingData;
                    runConsoleSimulation(
                      slotConsoleOutput,
                      T.betConsoleMessages,
                      () => {
                        const minBet = CUSTOM_CONFIG.minBet;
                        const maxBet = CUSTOM_CONFIG.maxBet;
                        const currency = CUSTOM_CONFIG.currency;
                        slotBetSuggestion.textContent = T.betSuggestion
                          .replace("{minBet}", minBet)
                          .replace("{maxBet}", maxBet)
                          .replace(/{currency}/g, currency);
                        slotGetSignalBtn.disabled = false;
                        slotGetSignalBtn.classList.remove("btn-disabled");
                        slotGetSignalBtn.classList.add(
                          "bg-green-600",
                          "text-black",
                          "hover:bg-green-500"
                        );
                      }
                    );
                  }

                  if (target.matches(".slot-get-signal-btn")) {
                    const slotGetSignalBtn = target;
                    if (slotGetSignalBtn.disabled) return;

                    const slotBetSuggestion = gameScreen.querySelector(
                      ".bet-suggestion-text"
                    );
                    const slotConsoleOutput =
                      gameScreen.querySelector(".game-console");
                    const slotNumber = gameScreen.querySelector(".slot-number");
                    const slotActionsInitial = gameScreen.querySelector(
                      ".slot-actions-initial"
                    );
                    const slotGetAnotherBtn = gameScreen.querySelector(
                      ".slot-get-another-btn"
                    );

                    slotGetSignalBtn.disabled = true;
                    slotGetSignalBtn.classList.add("btn-disabled");
                    slotBetSuggestion.textContent = T.analyzingData;

                    runConsoleSimulation(
                      slotConsoleOutput,
                      T.slotSignalConsoleMessages,
                      () => {
                        let spinCount = 0;
                        const animationInterval = setInterval(() => {
                          spinCount = Math.floor(Math.random() * 16) + 5; // Random 5-20
                          if (slotNumber) slotNumber.textContent = spinCount;
                        }, 100); // Update every 0.1s

                        setTimeout(() => {
                          clearInterval(animationInterval);
                          const finalSpinCount =
                            Math.floor(Math.random() * 16) + 5; // Final random 5-20
                          if (slotNumber)
                            slotNumber.textContent = finalSpinCount;
                          if (slotBetSuggestion)
                            // Use Romanian version if available, placeholder {finalSpinCount} not found in T object
                            slotBetSuggestion.textContent = `SEMNAL AI: ROTEȘTE DE ${finalSpinCount} ORI PENTRU BONUS`; // Hardcoded translation
                          if (slotActionsInitial)
                            slotActionsInitial.classList.add("hidden");
                          if (slotGetAnotherBtn)
                            slotGetAnotherBtn.classList.remove("hidden");
                        }, 2500); // Spin animation duration 2.5s
                      }
                    );
                  }

                  if (target.matches(".slot-get-another-btn")) {
                    resetSlotGame();
                  }
                });

                function generateRandomUsername() {
                  // Stays same
                  return `username${Math.floor(9e4 * Math.random()) + 1e4}`;
                }
                let usedMessages = [];
                const toggleChat = (e) => {
                    // Stays same
                    e
                      ? (chatWidget.classList.remove("hidden"),
                        chatToggleBtn.classList.add("hidden"),
                        chatOverlay.classList.remove("hidden"))
                      : (chatWidget.classList.add("hidden"),
                        chatToggleBtn.classList.remove("hidden"),
                        chatOverlay.classList.add("hidden"));
                  },
                  addMessageToChat = (e, t, n = !1) => {
                    // Stays same, uses username: message format
                    const o = document.createElement("div");
                    o.classList.add("text-sm"),
                      (o.innerHTML = n // User message format
                        ? `<span class="font-bold text-red-500">${e}:</span> <span class="text-red-400">${t}</span>`
                        : `<span class="font-bold text-cyan-400">${e}:</span> <span>${t}</span>`), // Bot message format
                      chatMessages.appendChild(o),
                      chatWidget.classList.contains("hidden") || // Scroll logic stays
                        (chatMessages.scrollTop = chatMessages.scrollHeight);
                  },
                  getUniqueRandomMessage = () => {
                    // Logic stays, uses translated T.fakeMessages
                    let e = T.fakeMessages.filter(
                      (e) => !usedMessages.includes(e)
                    );
                    e.length < 5 && ((usedMessages = []), (e = T.fakeMessages)); // Reset if too few left
                    const t = e[Math.floor(Math.random() * e.length)];
                    return usedMessages.push(t), t;
                  },
                  startChatSimulation = () => {
                    // Logic stays, uses translated T.qaPairs and T.fakeMessages
                    if (chatInterval) return;
                    chatInterval = setInterval(() => {
                      if (Math.random() < 0.25) {
                        // 25% chance for Q&A
                        const e =
                            T.qaPairs[
                              Math.floor(Math.random() * T.qaPairs.length)
                            ],
                          t = generateRandomUsername();
                        addMessageToChat(t, e.q), // Post question
                          setTimeout(() => {
                            // Delayed answer
                            const n = generateRandomUsername(),
                              o = `<span class="font-bold text-cyan-400">@${t}</span> ${e.a}`; // Format answer with mention
                            addMessageToChat(n, o);
                          }, 1e4 * Math.random() + 5e3); // 5-15 second delay
                      } else {
                        // 75% chance for fake message
                        const e = generateRandomUsername(),
                          t = getUniqueRandomMessage();
                        addMessageToChat(e, t);
                      }
                    }, 8e3 * Math.random() + 3e3); // 3-11 second interval
                  };
                let user = {
                  // User state logic stays
                  username: localStorage.getItem("ai_predictor_username"),
                  messageCount:
                    parseInt(localStorage.getItem("ai_predictor_msg_count")) ||
                    0,
                };
                user.username || // Generate username if none exists
                  ((user.username = `user_${
                    // Romanian: utilizator_
                    Math.floor(9e4 * Math.random()) + 1e4
                  }`),
                  localStorage.setItem("ai_predictor_username", user.username));
                const checkUserBlock = () => {
                    // Logic stays, uses translated T.chatLimitReached
                    user.messageCount >= 2 &&
                      ((chatInput.disabled = !0),
                      (chatSendBtn.disabled = !0),
                      (chatInput.placeholder = T.chatLimitReached));
                  },
                  handleUserMessage = () => {
                    // Logic stays, uses translated T.userReplies
                    const e = chatInput.value.trim();
                    if (!e || user.messageCount >= 2) return;
                    addMessageToChat(user.username, e, !0), // Add user message (red)
                      (chatInput.value = "");
                    const t = user.messageCount; // Store current count for reply index
                    user.messageCount++,
                      localStorage.setItem(
                        "ai_predictor_msg_count",
                        user.messageCount
                      ),
                      setTimeout(() => {
                        // Delayed bot reply
                        const e = T.userReplies[t].replace(
                          // Get reply based on message count
                          "{username}",
                          user.username
                        );
                        addMessageToChat("AI_Assistant", e); // Add bot reply (cyan)
                      }, 3e3 * Math.random() + 2e3), // 2-5 second delay
                      checkUserBlock(); // Check if limit reached
                  };
                const statsConfig = {
                  // Config stays, values are numeric/percentages
                  "stats-aviator": {
                    baseSignals: 500,
                    rangeSignals: 500,
                    baseWinRate: 95,
                    rangeWinRate: 3,
                  },
                  "stats-mines": {
                    baseSignals: 300,
                    rangeSignals: 400,
                    baseWinRate: 85,
                    rangeWinRate: 7,
                  },
                  "stats-penalty": {
                    baseSignals: 100,
                    rangeSignals: 100,
                    baseWinRate: 87,
                    rangeWinRate: 8,
                  },
                  "stats-apple": {
                    baseSignals: 400,
                    rangeSignals: 200,
                    baseWinRate: 90,
                    rangeWinRate: 5,
                  },
                  "stats-chicken": {
                    baseSignals: 400,
                    rangeSignals: 200,
                    baseWinRate: 90,
                    rangeWinRate: 5,
                  },
                  "stats-vip": {
                    baseSignals: 1e3,
                    rangeSignals: 1e3,
                    baseWinRate: 98,
                    rangeWinRate: 1,
                  },
                  "stats-slot": {
                    baseSignals: 1200,
                    rangeSignals: 800,
                    baseWinRate: 97,
                    rangeWinRate: 2,
                  },
                };
                function updateSignalStats() {
                  // Logic stays, uses translated T.signalsPerSec and T.successRate
                  document.querySelectorAll('[id^="stats-"]').forEach((p) => {
                    const id = p.id;
                    let config = statsConfig[id];
                    if (!config) {
                      // Handle generated slot stats IDs
                      if (id.startsWith("stats-slot-")) {
                        config = statsConfig["stats-slot"];
                      }
                    }
                    if (config) {
                      const signals = // Random signals logic stays
                        config.baseSignals +
                        Math.floor(Math.random() * config.rangeSignals);
                      const winRate = // Random win rate logic stays
                      (
                        config.baseWinRate +
                        Math.random() * config.rangeWinRate
                      ).toFixed(1);
                      p.innerHTML = `${T.signalsPerSec} <span class="text-green-400">${signals}</span><br>${T.successRate} <span class="font-bold text-lime-300">${winRate}%</span>`;
                    }
                  });
                }
                const liveFeedContainer = document.getElementById(
                    "live-feed-container"
                  ),
                  winnersData = [
                    // Icon URLs stay
                    {
                      game: "aviator",
                      icon: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQqBdX8SuaC1Ws7ZYuCVQstQ4qRi9A_3SWujg&s",
                    },
                    {
                      game: "mines",
                      icon: "https://rotativka.com/en/wp-content/uploads/sites/3/2021/06/Mines-Demo.jpg",
                    },
                    {
                      game: "penalty",
                      icon: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcThYP5CGxc52hWd4ToMHI8MIJhun5BEjHh5LQ&s",
                    },
                    {
                      game: "apple",
                      icon: "https://play-lh.googleusercontent.com/ezAY-TvV3PlhYWLs8k8czRjWWSdBwFtPrw72fNpS8p6wByC0xBG-Dgt0K5ojieZXrg", // Placeholder?
                    },
                    {
                      game: "chicken",
                      icon: "https://cdn6.aptoide.com/imgs/1/0/2/1023a04c18a7a91673200703af12a58f_icon.png",
                    },
                  ];
                let winnersFeed = [];
                const MAX_WINNERS_IN_FEED = 20; // Stays
                function createWinnerElement(e) {
                  // HTML structure stays, uses dynamic data
                  const t = document.createElement("div");
                  return (
                    (t.className =
                      "winner-item flex-shrink-0 flex items-center bg-gray-900/50 p-2 rounded-md w-52"), // Classes stay
                    (t.innerHTML = ` <img src="${e.icon}" class="w-10 h-10 rounded-md object-cover ltr:mr-4 rtl:ml-4"> <div class="flex flex-col text-xs overflow-hidden"> <span class="text-gray-200 font-bold truncate">${e.user}</span> <span class="font-bold text-lime-300 text-sm">${e.amount} ${CUSTOM_CONFIG.currency}</span> </div> `),
                    t
                  );
                }
                function generateWinner() {
                  // Logic stays
                  const e =
                      winnersData[
                        Math.floor(Math.random() * winnersData.length)
                      ],
                    t = generateRandomUsername(), // Use the existing function
                    n = // Amount logic stays
                      Math.round((8e3 * Math.random() + 1e3) / 100) * // Random base 10-90, rounded to nearest 100
                      100 *
                      CUSTOM_CONFIG.winnerMultiplier; // Apply multiplier
                  return { icon: e.icon, user: t, amount: n };
                }
                function renderWinnersFeed() {
                  // Logic stays
                  (liveFeedContainer.innerHTML = ""),
                    winnersFeed.forEach((e) => {
                      const t = createWinnerElement(e);
                      (t.style.animation = "none"), // Disable animation for initial render
                        liveFeedContainer.appendChild(t);
                    });
                }
                function addNewWinner() {
                  // Logic stays
                  const e = generateWinner();
                  winnersFeed.unshift(e), // Add to beginning
                    winnersFeed.length > MAX_WINNERS_IN_FEED && // Limit feed size
                      winnersFeed.pop();
                  const t = createWinnerElement(e); // Create element
                  liveFeedContainer.prepend(t), // Add to beginning of container
                    liveFeedContainer.children.length > MAX_WINNERS_IN_FEED && // Remove oldest if > max
                      liveFeedContainer.lastChild.remove();
                  const n = 2e4 * Math.random() + 1e4; // Random interval 10-30 seconds
                  setTimeout(addNewWinner, n); // Schedule next winner
                }

                // --- PROMO MODAL START ---
                const promoModal = document.getElementById("promoModal");
                const closePromoModalBtn =
                  document.getElementById("closePromoModalBtn");
                const openLotteryFromPromoBtn = document.getElementById(
                  "openLotteryFromPromoBtn"
                );
                let promoInterval;

                function showPromoModal() {
                  if (!FEATURE_FLAGS.enableLottery) return;
                  if (promoModal) {
                    promoModal.classList.remove("hidden");
                    document.body.style.overflow = "hidden"; // Prevent scrolling
                  }
                }

                function closePromoModal() {
                  if (promoModal) {
                    promoModal.classList.add("hidden");
                    document.body.style.overflow = ""; // Allow scrolling
                  }
                }

                function startPromoInterval() {
                  if (!FEATURE_FLAGS.enableLottery) return;
                  clearInterval(promoInterval); // Clear existing interval
                  promoInterval = setInterval(() => {
                    // Show promo only if app is visible and no other modals are open
                    if (
                      !appContainer.classList.contains("hidden") &&
                      lotteryModal.classList.contains("hidden") &&
                      infoModal.classList.contains("hidden") &&
                      accessModal.classList.contains("hidden") &&
                      promoModal.classList.contains("hidden")
                    ) {
                      showPromoModal();
                    }
                  }, 300000); // 5 minutes interval
                }

                if (closePromoModalBtn)
                  closePromoModalBtn.addEventListener("click", closePromoModal);
                if (promoModal)
                  promoModal.addEventListener("click", (e) => {
                    // Close on overlay click
                    if (e.target === promoModal) {
                      closePromoModal();
                    }
                  });
                if (openLotteryFromPromoBtn)
                  openLotteryFromPromoBtn.addEventListener("click", () => {
                    closePromoModal();
                    openLotteryModal(); // Open lottery after closing promo
                  });
                // --- PROMO MODAL END ---

                // --- LOTTERY SCRIPT START --- (Logic stays, uses translated prize texts if provided in `prizes` array later)
                const lotteryBtn = document.getElementById("lotteryBtn");
                const lotteryModal = document.getElementById("lotteryModal");
                const closeLotteryModalBtn = document.getElementById(
                  "closeLotteryModalBtn"
                );
                const lotteryCodeInput = document.getElementById("lotteryCode");
                const spinBtn = document.getElementById("spinBtn");
                const spinAgainBtn = document.getElementById("spinAgainBtn");
                const lotteryErrorMessage = document.getElementById(
                  "lotteryErrorMessage"
                );
                const wheelContainer =
                  document.getElementById("wheel-container");
                const canvas = document.getElementById("wheelCanvas");
                const confettiCanvas =
                  document.getElementById("confettiCanvas");
                const lotteryControls =
                  document.getElementById("lottery-controls");
                const lotteryResult = document.getElementById("lottery-result");
                const lotteryResultText =
                  document.getElementById("lotteryResultText");
                const ctx = canvas ? canvas.getContext("2d") : null;
                const confettiCtx = confettiCanvas
                  ? confettiCanvas.getContext("2d")
                  : null;

                const infoBtn = document.getElementById("infoBtn");
                const infoModal = document.getElementById("infoModal");
                const closeInfoModalBtn =
                  document.getElementById("closeInfoModalBtn");

                const numSegments = prizes.length; // Will be 0 if prizes array is empty
                const segmentAngle =
                  numSegments > 0 ? (2 * Math.PI) / numSegments : 0;
                let currentRotation = 0;
                let isSpinning = false;
                let shimmerAngle = 0;
                let animationFrameId;

                let centerX, centerY, radius;

                let confettiParticles = [];
                let confettiAnimationId;

                function resizeCanvas() {
                  if (!wheelContainer || !canvas || !confettiCanvas) return;
                  const size = wheelContainer.clientWidth;
                  canvas.width = size;
                  canvas.height = size;
                  const modalBody = lotteryModal.querySelector(
                    ".bg-\\[\\#0d0d0d\\]"
                  ); // Get the modal body for confetti canvas size
                  if (modalBody) {
                    confettiCanvas.width = modalBody.clientWidth;
                    confettiCanvas.height = modalBody.clientHeight;
                  }
                  centerX = canvas.width / 2;
                  centerY = canvas.height / 2;
                  radius = Math.max(0, canvas.width / 2 - 5); // Radius with padding
                  drawWheel();
                }

                function drawWheel() {
                  if (!ctx || !canvas || numSegments === 0) return; // Add check for numSegments
                  ctx.clearRect(0, 0, canvas.width, canvas.height);
                  ctx.save();
                  ctx.translate(centerX, centerY);
                  ctx.rotate(currentRotation);

                  for (let i = 0; i < numSegments; i++) {
                    const startAngle = i * segmentAngle;
                    const endAngle = startAngle + segmentAngle;

                    // Draw segment
                    ctx.beginPath();
                    ctx.moveTo(0, 0);
                    ctx.arc(0, 0, radius, startAngle, endAngle);
                    ctx.closePath();
                    ctx.fillStyle = prizes[i].color; // Use color from prize data
                    ctx.fill();

                    // Draw border (animated or static)
                    if (prizes[i].animatedBorder) {
                      const gradient = ctx.createConicGradient(
                        shimmerAngle + startAngle, // Animate gradient start angle
                        0,
                        0
                      );
                      // Gold/White gradient stops
                      gradient.addColorStop(0, "#FBBF24");
                      gradient.addColorStop(0.25, "#FDE68A");
                      gradient.addColorStop(0.5, "#FBBF24");
                      gradient.addColorStop(0.75, "#FFFFFF");
                      gradient.addColorStop(1, "#FBBF24");
                      ctx.strokeStyle = gradient;
                      ctx.lineWidth = 6; // Thicker border
                      ctx.stroke();
                    } else {
                      ctx.strokeStyle = "#4B5563"; // Default border color
                      ctx.lineWidth = 2;
                      ctx.stroke();
                    }

                    // Draw text
                    ctx.save();
                    ctx.rotate(startAngle + segmentAngle / 2); // Rotate context to center text
                    ctx.textAlign = "center";
                    ctx.textBaseline = "middle";
                    ctx.fillStyle = prizes[i].textColor; // Use text color from prize data
                    const fontSize = Math.max(10, Math.floor(radius / 16)); // Dynamic font size
                    ctx.font = `bold ${fontSize}px "Share Tech Mono"`; // Font style
                    const text = prizes[i].text; // Get text (already translated if prizes array is correct)

                    const lines = text.split("\n"); // Handle multiline text
                    const textRadius = radius * 0.65; // Position text inside segment
                    const lineHeight = fontSize + 2;
                    for (let j = 0; j < lines.length; j++) {
                      ctx.fillText(
                        lines[j],
                        textRadius,
                        (j - (lines.length - 1) / 2) * lineHeight // Center multiline text vertically
                      );
                    }
                    ctx.restore(); // Restore context rotation
                  }
                  ctx.restore(); // Restore context translation
                }

                function idleLoop() {
                  // Animation when not spinning
                  shimmerAngle += 0.03; // Rotate shimmer effect
                  drawWheel();
                  if (!isSpinning) {
                    // Continue loop only if idle
                    animationFrameId = requestAnimationFrame(idleLoop);
                  }
                }

                function startConfetti() {
                  if (!confettiCanvas || !confettiCtx) return;
                  const colors = [
                    // Confetti colors
                    "#fde047",
                    "#f97316",
                    "#22c55e",
                    "#3b82f6",
                    "#a855f7",
                  ];
                  confettiParticles = [];
                  for (let i = 0; i < 150; i++) {
                    // Create particles
                    confettiParticles.push({
                      x: confettiCanvas.width / 2, // Start at center
                      y: confettiCanvas.height / 2,
                      radius: Math.random() * 3 + 2, // Random size
                      color: colors[Math.floor(Math.random() * colors.length)], // Random color
                      vx: (Math.random() - 0.5) * 25, // Random horizontal velocity
                      vy: (Math.random() - 0.5) * 25, // Random initial vertical velocity
                      alpha: 1, // Start fully opaque
                    });
                  }

                  function animateConfetti() {
                    if (!confettiCtx || !confettiCanvas) return;
                    confettiCtx.clearRect(
                      0,
                      0,
                      confettiCanvas.width,
                      confettiCanvas.height
                    ); // Clear canvas
                    confettiParticles.forEach((p, index) => {
                      p.x += p.vx; // Update position
                      p.y += p.vy;
                      p.vy += 0.4; // Apply gravity
                      p.alpha -= 0.005; // Fade out

                      if (p.alpha <= 0) {
                        // Remove faded particles
                        confettiParticles.splice(index, 1);
                      }

                      // Draw particle
                      confettiCtx.globalAlpha = p.alpha;
                      confettiCtx.beginPath();
                      confettiCtx.arc(p.x, p.y, p.radius, 0, Math.PI * 2);
                      confettiCtx.fillStyle = p.color;
                      confettiCtx.fill();
                    });

                    if (confettiParticles.length > 0) {
                      // Continue animation if particles exist
                      confettiAnimationId =
                        requestAnimationFrame(animateConfetti);
                    } else {
                      // Clear canvas when done
                      confettiCtx.clearRect(
                        0,
                        0,
                        confettiCanvas.width,
                        confettiCanvas.height
                      );
                    }
                  }
                  cancelAnimationFrame(confettiAnimationId); // Clear previous animation
                  animateConfetti(); // Start new animation
                }

                function spinWheel() {
                  if (isSpinning || numSegments === 0) return; // Add check for numSegments

                  const code = lotteryCodeInput.value.trim();
                  if (!code) {
                    // Check for empty code
                    lotteryErrorMessage.textContent = "Te rog introdu codul."; // Translated error
                    const modalBody = lotteryModal.querySelector(
                      ".bg-\\[\\#0d0d0d\\]"
                    );
                    if (modalBody) {
                      // Shake animation
                      modalBody.classList.add("shake");
                      setTimeout(
                        () => modalBody.classList.remove("shake"),
                        500
                      );
                    }
                    return;
                  }

                  let usedCodes = // Check if code was already used this session
                    JSON.parse(sessionStorage.getItem("usedLotteryCodes")) ||
                    [];
                  if (usedCodes.includes(code)) {
                    lotteryErrorMessage.textContent =
                      "Acest cod a fost folosit."; // Translated error
                    return;
                  }

                  if (!lotteryCodes.hasOwnProperty(code)) {
                    // Check if code is valid
                    lotteryErrorMessage.textContent = "Cod greșit."; // Translated error
                    const modalBody = lotteryModal.querySelector(
                      ".bg-\\[\\#0d0d0d\\]"
                    );
                    if (modalBody) {
                      // Shake animation
                      modalBody.classList.add("shake");
                      setTimeout(
                        () => modalBody.classList.remove("shake"),
                        500
                      );
                    }
                    return;
                  }

                  let targetPrizeIndex = -1;

                  if (
                    lotteryCodes[code] !== undefined &&
                    lotteryCodes[code] !== null
                  ) {
                    // Check if code maps to a valid index
                    targetPrizeIndex = lotteryCodes[code];
                    usedCodes.push(code); // Mark code as used for this session
                    sessionStorage.setItem(
                      "usedLotteryCodes",
                      JSON.stringify(usedCodes)
                    );
                  } else {
                    lotteryErrorMessage.textContent = "Cod invalid."; // Translated error
                    const modalBody = lotteryModal.querySelector(
                      ".bg-\\[\\#0d0d0d\\]"
                    );
                    if (modalBody) {
                      modalBody.classList.add("shake");
                      setTimeout(
                        () => modalBody.classList.remove("shake"),
                        500
                      );
                    }
                    return;
                  }

                  cancelAnimationFrame(animationFrameId); // Stop idle animation
                  lotteryErrorMessage.textContent = "";
                  isSpinning = true;
                  spinBtn.disabled = true;

                  // Spin calculation logic stays
                  const randomSpins = Math.floor(Math.random() * 4) + 5; // 5-8 full spins
                  const targetSegmentCenter =
                    targetPrizeIndex * segmentAngle + segmentAngle / 2; // Center of target segment
                  const finalRotation = // Calculate final angle
                    2 * Math.PI * randomSpins - // Add full spins
                    targetSegmentCenter + // Align target segment with pointer (top is -PI/2, pointer is at 0 or 2PI)
                    (Math.random() * segmentAngle * 0.8 - segmentAngle * 0.4); // Add random offset within segment

                  let start = null;
                  const duration = 6000; // Spin duration 6 seconds
                  const startRotation = currentRotation;

                  function easeOutQuint(t) {
                    // Easing function
                    return 1 + --t * t * t * t * t;
                  }

                  function animateSpin(timestamp) {
                    if (!start) start = timestamp;
                    const progress = timestamp - start;
                    const easedProgress = easeOutQuint(
                      Math.min(progress / duration, 1)
                    ); // Apply easing

                    currentRotation =
                      startRotation +
                      (finalRotation - startRotation) * easedProgress; // Interpolate rotation
                    shimmerAngle += 0.05; // Continue shimmer during spin
                    drawWheel();

                    if (progress < duration) {
                      // Continue animation if not finished
                      requestAnimationFrame(animateSpin);
                    } else {
                      // Spin finished
                      isSpinning = false;
                      currentRotation %= 2 * Math.PI; // Normalize rotation

                      // Calculate winning index based on final angle (adjusting for pointer position at 0/2PI)
                      const winningIndex =
                        Math.floor(
                          numSegments - currentRotation / segmentAngle
                        ) % numSegments;
                      const winningPrize = prizes[winningIndex];

                      // Show result
                      lotteryControls.classList.add("hidden");
                      lotteryResultText.textContent = winningPrize.text.replace(
                        /\n/g,
                        " "
                      ); // Display prize text (single line)
                      lotteryResult.classList.remove("hidden");

                      if (winningPrize.text.toUpperCase() !== "NIMIC") {
                        // Check against Romanian "NOTHING"
                        startConfetti(); // Start confetti if won something
                      }

                      idleLoop(); // Restart idle animation
                    }
                  }
                  requestAnimationFrame(animateSpin); // Start spin animation
                }

                function openLotteryModal() {
                  if (numSegments === 0) return; // Don't open if no prizes
                  lotteryModal.classList.remove("hidden");
                  document.body.style.overflow = "hidden";
                  resizeCanvas(); // Ensure canvas size is correct

                  // Reset UI state
                  lotteryControls.classList.remove("hidden");
                  lotteryResult.classList.add("hidden");
                  lotteryCodeInput.value = "";
                  lotteryErrorMessage.textContent = "";
                  spinBtn.disabled = false;

                  // Stop animations
                  cancelAnimationFrame(animationFrameId);
                  cancelAnimationFrame(confettiAnimationId);
                  if (confettiCtx && confettiCanvas) {
                    // Clear confetti canvas
                    confettiCtx.clearRect(
                      0,
                      0,
                      confettiCanvas.width,
                      confettiCanvas.height
                    );
                  }
                  idleLoop(); // Start idle animation
                }

                function closeLotteryModal() {
                  lotteryModal.classList.add("hidden");
                  document.body.style.overflow = "";
                  // Stop animations
                  cancelAnimationFrame(animationFrameId);
                  cancelAnimationFrame(confettiAnimationId);
                }

                function handleSpinAgain() {
                  // Reset UI for another spin
                  lotteryResult.classList.add("hidden");
                  lotteryControls.classList.remove("hidden");
                  lotteryCodeInput.value = "";
                  lotteryErrorMessage.textContent = "";
                  spinBtn.disabled = false;
                  // Stop confetti
                  cancelAnimationFrame(confettiAnimationId);
                  if (confettiCtx && confettiCanvas) {
                    confettiCtx.clearRect(
                      0,
                      0,
                      confettiCanvas.width,
                      confettiCanvas.height
                    );
                  }
                }

                // Event listeners - logic stays
                if (lotteryBtn && FEATURE_FLAGS.enableLottery)
                  lotteryBtn.addEventListener("click", openLotteryModal);
                if (closeLotteryModalBtn)
                  closeLotteryModalBtn.addEventListener(
                    "click",
                    closeLotteryModal
                  );
                if (lotteryModal) {
                  lotteryModal.addEventListener("click", (e) => {
                    // Close on overlay click
                    if (e.target === lotteryModal) {
                      closeLotteryModal();
                    }
                  });
                }
                if (spinBtn) spinBtn.addEventListener("click", spinWheel);
                if (spinAgainBtn)
                  spinAgainBtn.addEventListener("click", handleSpinAgain);
                window.addEventListener("resize", resizeCanvas); // Redraw wheel on resize

                // Info Modal listeners - logic stays
                if (infoBtn) {
                  infoBtn.addEventListener("click", () => {
                    if (infoModal) infoModal.classList.remove("hidden");
                  });
                }
                if (closeInfoModalBtn) {
                  closeInfoModalBtn.addEventListener("click", () => {
                    if (infoModal) infoModal.classList.add("hidden");
                  });
                }
                if (infoModal) {
                  infoModal.addEventListener("click", (e) => {
                    // Close on overlay click
                    if (e.target === infoModal) {
                      infoModal.classList.add("hidden");
                    }
                  });
                }
                // --- LOTTERY SCRIPT END ---

                const allCustomSelects =
                  document.querySelectorAll("[data-select-id]"); // Get all custom selects

                // Card activation listener - logic stays
                signalsSection.addEventListener("click", (t) => {
                  const activateBtn = t.target.closest(".activate-btn"); // Find closest activate button
                  if (activateBtn) {
                    const n = activateBtn.closest(".signal-card"); // Get parent card
                    if (n.classList.contains("locked-card")) return; // Do nothing if locked
                    const o = n.dataset.game; // Get game ID from data attribute
                    if (o) {
                      showGameView(o); // Show the specific game view
                    }
                  }
                });

                // Custom select logic - stays, uses English values for logic but displays potentially translated options
                allCustomSelects.forEach((e) => {
                  const t = e.querySelector(".custom-select-trigger"), // Button to open dropdown
                    n = e.querySelector(".custom-select-options"), // Options container
                    o = t.querySelector(".selected-option"); // Span showing selected value
                  t.addEventListener("click", (t) => {
                    // Toggle dropdown on click
                    t.stopPropagation(), // Prevent document click listener
                      allCustomSelects.forEach((t) => {
                        // Close other dropdowns
                        t !== e &&
                          t
                            .querySelector(".custom-select-options")
                            .classList.add("hidden");
                      }),
                      n.classList.toggle("hidden"); // Toggle current dropdown
                  }),
                    n.addEventListener("click", (t) => {
                      // Handle option click
                      if ("DIV" === t.target.tagName) {
                        // If clicked on an option div
                        const a = t.target.textContent.trim(); // Get selected text
                        (o.textContent = a), n.classList.add("hidden"); // Update display, close dropdown
                        const s = e.dataset.selectId; // Get which select was changed
                        // Update game state based on selection - Uses parsed values for logic
                        "grid-size" === s
                          ? ((minesState.gridSize = parseInt(a.split("x")[0])),
                            resetMinesGame(false)) // Reset mines with new grid size
                          : "mine-count" === s
                          ? ((minesState.mineCount = parseInt(a)),
                            resetMinesGame(false)) // Reset mines with new mine count
                          : "chicken-difficulty" === s && // Use English difficulty for state
                            ((chickenState.difficulty = a), // Store selected difficulty (might need mapping if options are translated)
                            resetChickenGame(false)); // Reset chicken game
                      }
                    });
                }),
                  // Close dropdowns on click outside - logic stays
                  document.addEventListener("click", () => {
                    allCustomSelects.forEach((e) => {
                      e.querySelector(".custom-select-options").classList.add(
                        "hidden"
                      );
                    });
                  }),
                  // Modal and basic button listeners - logic stays
                  openModalBtn.addEventListener("click", openModal),
                  closeModalBtn.addEventListener("click", closeModal),
                  validateBtn.addEventListener("click", handleValidation),
                  accessCodeInput.addEventListener("keyup", (e) => {
                    // Validate on Enter key
                    "Enter" === e.key && handleValidation();
                  }),
                  accessModal.addEventListener("click", (e) => {
                    // Close on overlay click
                    e.target === accessModal && closeModal();
                  }),
                  // Chat listeners - logic stays
                  chatToggleBtn.addEventListener("click", () => toggleChat(!0)), // Open chat
                  chatCloseBtn.addEventListener("click", () => toggleChat(!1)), // Close chat
                  chatOverlay.addEventListener("click", () => toggleChat(!1)), // Close on overlay click
                  chatSendBtn.addEventListener("click", handleUserMessage), // Send message on button click
                  chatInput.addEventListener("keyup", (e) => {
                    // Send message on Enter key
                    "Enter" === e.key && handleUserMessage();
                  }),
                  // Logout listener - logic stays
                  logoutBtn.addEventListener("click", () => {
                    localStorage.removeItem("accessGrantedTimestamp");
                    localStorage.removeItem("vipUnlocked");
                    localStorage.removeItem("slotUnlocked");
                    sessionStorage.removeItem("promoShownThisSession");
                    sessionStorage.removeItem("usedLotteryCodes"); // Clear used lottery codes on logout
                    clearInterval(promoInterval); // Clear promo timer
                    window.location.reload(); // Reload the page
                  });

                // Back button listeners - logic stays
                document
                  .querySelectorAll(".back-to-signals-btn")
                  .forEach((e) => {
                    e.addEventListener("click", showSignalsView);
                  });

                // "I Found Game" button listener - logic stays
                gameView.addEventListener("click", (e) => {
                  if (e.target.matches(".i-found-game-btn")) {
                    const gameScreen = e.target.closest(".game-screen");
                    if (gameScreen) {
                      const videoSection = gameScreen.querySelector(
                        ".video-tutorial-section"
                      );
                      const predictorSection =
                        gameScreen.querySelector(".predictor-section");
                      if (videoSection && predictorSection) {
                        videoSection.classList.add("hidden"); // Hide video section
                        predictorSection.classList.remove("hidden"); // Show predictor
                        predictorSection.classList.add("flex");
                      }
                    }
                  }
                });

                // Video Modal Logic - Stays, uses translated T.videoOf
                const videoModal = document.getElementById("videoModal"),
                  closeVideoModalBtn =
                    document.getElementById("closeVideoModalBtn"),
                  youtubePlayer = document.getElementById("youtube-player"),
                  videoModalTitle = document.getElementById("videoModalTitle"),
                  prevVideoBtn = document.getElementById("prevVideoBtn"),
                  nextVideoBtn = document.getElementById("nextVideoBtn"),
                  videoCounter = document.getElementById("video-counter");
                let currentVideoList = [], // List of videos for current game/section
                  currentVideoIndex = 0;
                function updateVideoModal() {
                  // Update modal content based on current index
                  const e = currentVideoList[currentVideoIndex];
                  (youtubePlayer.src = e.url), // Set video URL
                    (videoModalTitle.textContent = e.title || ""), // Set title or hide if none
                    videoModalTitle.classList.toggle("hidden", !e.title),
                    (videoCounter.textContent = T.videoOf // Update counter text
                      .replace("{current}", currentVideoIndex + 1)
                      .replace("{total}", currentVideoList.length)),
                    (prevVideoBtn.disabled = currentVideoIndex === 0), // Disable prev if first
                    (nextVideoBtn.disabled = // Disable next if last
                      currentVideoIndex === currentVideoList.length - 1),
                    // Hide navigation if only one video
                    1 === currentVideoList.length
                      ? ((prevVideoBtn.style.display = "none"),
                        (nextVideoBtn.style.display = "none"),
                        (videoCounter.style.display = "none"))
                      : ((prevVideoBtn.style.display = "block"),
                        (nextVideoBtn.style.display = "block"),
                        (videoCounter.style.display = "block"));
                }
                document.querySelectorAll(".open-video-btn").forEach((e) => {
                  // Add listeners to all video buttons
                  e.addEventListener("click", () => {
                    const t = e.dataset.videosKey, // Get video category (e.g., 'howToUse')
                      n = e.dataset.gameKey; // Get game ID
                    if (t && n && VIDEO_CONFIG[n]?.[t]) {
                      // Check if video list exists
                      currentVideoList = VIDEO_CONFIG[n][t];
                      if (currentVideoList.length > 0) {
                        currentVideoIndex = 0; // Start at first video
                        updateVideoModal(); // Update modal content
                        videoModal.classList.remove("hidden"); // Show modal
                      }
                    }
                  });
                });
                const closeVideoModal = () => {
                  // Close modal and stop video
                  videoModal.classList.add("hidden"), (youtubePlayer.src = "");
                };
                closeVideoModalBtn.addEventListener("click", closeVideoModal), // Close on button click
                  videoModal.addEventListener("click", (e) => {
                    // Close on overlay click
                    e.target === videoModal && closeVideoModal();
                  }),
                  prevVideoBtn.addEventListener("click", () => {
                    // Go to previous video
                    currentVideoIndex > 0 &&
                      (currentVideoIndex--, updateVideoModal());
                  }),
                  nextVideoBtn.addEventListener("click", () => {
                    // Go to next video
                    currentVideoIndex < currentVideoList.length - 1 &&
                      (currentVideoIndex++, updateVideoModal());
                  }),
                  // Initial setup calls
                  checkAccessSession(), // Check if already logged in
                  checkUserBlock(), // Check chat message limit
                  startChatSimulation(), // Start fake chat messages
                  updateSignalStats(), // Initial stats display
                  setInterval(updateSignalStats, 2500); // Update stats periodically

                // Initialize winners feed
                for (let e = 0; e < 15; e++) winnersFeed.push(generateWinner()); // Populate initial feed
                winnersFeed.length > MAX_WINNERS_IN_FEED && // Limit initial size
                  (winnersFeed = winnersFeed.slice(0, MAX_WINNERS_IN_FEED)),
                  renderWinnersFeed(), // Display initial feed
                  setTimeout(addNewWinner, 5e3 * Math.random() + 2e3); // Start adding new winners after 2-7 seconds
              };

              SCRIPT_BODY();
            });
          </script>
        </body>
      </html>
    </template>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        // --- INITIAL CONFIGS ---
        const initialVideoConfig = {
          aviator: {
            findGame: [
              { url: "https://www.youtube.com/embed/VionWpts3F8" },
              { url: "https://youtube.com/embed/qSmuuD4Kmto" },
            ],
            howToUse: [{ url: "https://www.youtube.com/embed/R9oKm-Yy2h8" }],
          },
          mines: {
            findGame: [
              { url: "https://youtube.com/embed/lIZc1X4eAlg" },
              { url: "https://youtube.com/embed/kxK2AmXTbtk" },
            ],
            howToUse: [{ url: "https://www.youtube.com/embed/YnbZbhfRpIo" }],
          },
          penalty: {
            findGame: [
              { url: "https://youtube.com/embed/ztTUO40WokI" },
              { url: "https://youtube.com/embed/plJJXi3XWes" },
            ],
            howToUse: [{ url: "https://www.youtube.com/embed/JSOkZujumoM" }],
          },
          apple: {
            findGame: [
              { url: "https://youtube.com/embed/-RTJcxOE82U" },
              { url: "https://youtube.com/embed/zE4dHLHK9Mo" },
            ],
            howToUse: [{ url: "https://www.youtube.com/embed/5qRmvocIM8Q" }],
          },
          chicken: {
            findGame: [
              { url: "https://youtube.com/embed/zMTKdBYz64M" },
              { url: "https://youtube.com/embed/FpyFq-QMczo" },
            ],
            howToUse: [{ url: "https://www.youtube.com/embed/7pu_wBdoxwg" }],
          },
          slot: {
            findGame: [
              { url: "https://www.youtube.com/embed/dQw4w9WgXcQ" },
              { url: "https://www.youtube.com/embed/dQw4w9WgXcQ" },
            ],
            howToUse: [{ url: "https://www.youtube.com/embed/dQw4w9WgXcQ" }],
          },
        };

        let prizesConfig = [
          {
            text: "VIP\\nACCESS",
            color: "#8B5CF6",
            textColor: "#FFFFFF",
            animatedBorder: true,
            specialCode: "VIP1",
          },
          {
            text: "+50%\\nBONUS",
            color: "#3B82F6",
            textColor: "#FFFFFF",
            animatedBorder: false,
            specialCode: "",
          },
          {
            text: "100$\\nTO CARD",
            color: "#FBBF24",
            textColor: "#1F2937",
            animatedBorder: true,
            specialCode: "CASH",
          },
          {
            text: "NOTHING",
            color: "#4B5563",
            textColor: "#E5E7EB",
            animatedBorder: false,
            specialCode: "",
          },
          {
            text: "SLOT\\nACCESS",
            color: "#EC4899",
            textColor: "#FFFFFF",
            animatedBorder: true,
            specialCode: "SLOT",
          },
        ];

        let staticCardsConfig = [
          {
            id: "vip",
            title: "VIP AI PREDICTOR",
            image: "https://iili.io/KOce6qG.png",
            showFindGame: true,
          },
          {
            id: "aviator",
            title: "Aviator AI PREDICTOR",
            image:
              "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQqBdX8SuaC1Ws7ZYuCVQstQ4qRi9A_3SWujg&s",
            showFindGame: true,
          },
          {
            id: "mines",
            title: "Mines AI PREDICTOR",
            image:
              "https://rotativka.com/en/wp-content/uploads/sites/3/2021/06/Mines-Demo.jpg",
            showFindGame: true,
          },
          {
            id: "penalty",
            title: "Penalty AI PREDICTOR",
            image:
              "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcThYP5CGxc52hWd4ToMHI8MIJhun5BEjHh5LQ&s",
            showFindGame: true,
          },
          {
            id: "apple",
            title: "Apple of Fortune AI PREDICTOR",
            image:
              "https://play-lh.googleusercontent.com/ezAY-TvV3PlhYWLs8k8czRjWWSdBwFtPrw72fNpS8p6wByC0xBG-Dgt0K5ojieZXrg",
            showFindGame: true,
          },
          {
            id: "chicken",
            title: "Chicken Road AI PREDICTOR",
            image:
              "https://cdn6.aptoide.com/imgs/1/0/2/1023a04c18a7a91673200703af12a58f_icon.png",
            showFindGame: true,
          },
        ];

        let slotsConfig = [
          {
            title: "MEGA SLOT GAME",
            image: "https://i.ibb.co/37R6F37/slot1.png",
            showFindGame: true,
          },
          {
            title: "ANOTHER SLOT",
            image: "https://i.ibb.co/Vvz1D1M/slot2.png",
            showFindGame: false,
          },
        ];

        const accordionContainer = document.getElementById(
          "accordion-container"
        );
        const wheelPrizesContainer = document.getElementById(
          "wheel-prizes-container"
        );
        const addPrizeBtn = document.getElementById("add-prize-btn");
        const cardsSettingsContainer = document.getElementById(
          "cards-settings-container"
        );
        const slotsSettingsContainer = document.getElementById(
          "slots-settings-container"
        );
        const addSlotBtn = document.getElementById("add-slot-btn");

        // --- RENDER UI FUNCTIONS ---

        const renderStaticCardInputs = () => {
          cardsSettingsContainer.innerHTML = "";
          staticCardsConfig.forEach((card, index) => {
            const cardElement = document.createElement("div");
            cardElement.className =
              "p-3 border border-cyan-800 rounded-md bg-gray-800/50 space-y-3";
            cardElement.dataset.index = index;
            cardElement.innerHTML = `
              <div class="flex items-center justify-between">
                  <span class="font-bold text-lg uppercase">${card.id}</span>
              </div>
              <div>
                  <label class="block text-sm font-medium mb-1">Название карточки</label>
                  <input type="text" value="${
                    card.title
                  }" data-config="title" class="static-card-config-input config-input w-full p-2 border rounded-md text-white">
              </div>
              <div>
                  <label class="block text-sm font-medium mb-1">URL изображения</label>
                  <input type="text" value="${
                    card.image
                  }" data-config="image" class="static-card-config-input config-input w-full p-2 border rounded-md text-white">
              </div>
              <div class="flex items-center justify-between">
                <label class="block text-sm font-medium">Включить видео "First, find the game"</label>
                <div class="relative inline-block w-12 mr-2 align-middle select-none transition duration-200 ease-in">
                  <input type="checkbox" data-config="showFindGame" ${
                    card.showFindGame ? "checked" : ""
                  } class="static-card-config-input toggle-checkbox absolute block w-6 h-6 rounded-full bg-white border-4 appearance-none cursor-pointer"/>
                  <label class="toggle-label block overflow-hidden h-6 rounded-full bg-gray-600 cursor-pointer"></label>
                </div>
              </div>
            `;
            cardsSettingsContainer.appendChild(cardElement);
          });
        };

        const renderSlotInputs = () => {
          slotsSettingsContainer.innerHTML = "";
          slotsConfig.forEach((slot, index) => {
            const slotElement = document.createElement("div");
            slotElement.className =
              "p-3 border border-fuchsia-800 rounded-md bg-gray-800/50 space-y-3";
            slotElement.dataset.index = index;
            slotElement.innerHTML = `
                <div class="flex items-center justify-between">
                    <span class="font-bold text-lg">Слот #${index + 1}</span>
                    <button class="delete-slot-btn text-red-500 hover:text-red-400 text-2xl font-bold" data-index="${index}">×</button>
                </div>
                <div>
                    <label class="block text-sm font-medium mb-1">Название</label>
                    <input type="text" value="${
                      slot.title
                    }" data-config="title" class="slot-config-input config-input w-full p-2 border rounded-md text-white">
                </div>
                <div>
                    <label class="block text-sm font-medium mb-1">URL изображения</label>
                    <input type="text" value="${
                      slot.image
                    }" data-config="image" class="slot-config-input config-input w-full p-2 border rounded-md text-white">
                </div>
                <div class="flex items-center justify-between">
                  <label class="block text-sm font-medium">Включить видео "First, find the game"</label>
                  <div class="relative inline-block w-12 mr-2 align-middle select-none transition duration-200 ease-in">
                    <input type="checkbox" data-config="showFindGame" ${
                      slot.showFindGame ? "checked" : ""
                    } class="slot-config-input toggle-checkbox absolute block w-6 h-6 rounded-full bg-white border-4 appearance-none cursor-pointer"/>
                    <label class="toggle-label block overflow-hidden h-6 rounded-full bg-gray-600 cursor-pointer"></label>
                  </div>
                </div>
                `;
            slotsSettingsContainer.appendChild(slotElement);
          });
        };

        const renderPrizeInputs = () => {
          wheelPrizesContainer.innerHTML = "";
          prizesConfig.forEach((prize, index) => {
            const prizeElement = document.createElement("div");
            prizeElement.className =
              "p-3 border border-cyan-800 rounded-md bg-gray-800/50 space-y-3";
            prizeElement.dataset.index = index;
            prizeElement.innerHTML = `
              <div class="flex items-center justify-between">
                  <span class="font-bold text-lg">Слот #${index + 1}</span>
                  <button class="delete-prize-btn text-red-500 hover:text-red-400 text-2xl font-bold" data-index="${index}">×</button>
              </div>
              <div>
                  <label class="block text-sm font-medium mb-1">Текст (используйте \\n для новой строки)</label>
                  <input type="text" value="${
                    prize.text
                  }" data-config="text" class="prize-config-input config-input w-full p-2 border rounded-md text-white">
              </div>
              <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                  <div>
                      <label class="block text-sm font-medium mb-1">HEX цвет фона</label>
                      <input type="text" value="${
                        prize.color
                      }" data-config="color" class="prize-config-input config-input w-full p-2 border rounded-md text-white">
                  </div>
                  <div>
                      <label class="block text-sm font-medium mb-1">HEX цвет текста</label>
                      <input type="text" value="${
                        prize.textColor
                      }" data-config="textColor" class="prize-config-input config-input w-full p-2 border rounded-md text-white">
                  </div>
                  <div>
                      <label class="block text-sm font-medium mb-1">Спец. код</label>
                      <input type="text" value="${
                        prize.specialCode || ""
                      }" data-config="specialCode" class="prize-config-input config-input w-full p-2 border rounded-md text-white">
                  </div>
              </div>
              <div class="flex items-center justify-between mt-2">
                <label class="block text-sm font-medium">Анимированная рамка</label>
                <div class="relative inline-block w-12 mr-2 align-middle select-none transition duration-200 ease-in">
                  <input type="checkbox" data-config="animatedBorder" ${
                    prize.animatedBorder ? "checked" : ""
                  } class="prize-config-input toggle-checkbox absolute block w-6 h-6 rounded-full bg-white border-4 appearance-none cursor-pointer"/>
                  <label class="toggle-label block overflow-hidden h-6 rounded-full bg-gray-600 cursor-pointer"></label>
                </div>
              </div>
            `;
            wheelPrizesContainer.appendChild(prizeElement);
          });
        };

        const renderVideoInputs = () => {
          accordionContainer.innerHTML = "";
          Object.keys(initialVideoConfig).forEach((game) => {
            const gameConfig = initialVideoConfig[game];
            const gameName = game.charAt(0).toUpperCase() + game.slice(1);
            const item = document.createElement("div");
            item.className =
              "accordion-item bg-gray-800/50 rounded-md border border-cyan-800";
            item.innerHTML = `
                <div class="accordion-header flex justify-between items-center p-4 cursor-pointer">
                    <h3 class="text-xl font-semibold capitalize">${gameName}</h3>
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="accordion-content p-4 border-t border-cyan-800 space-y-4">
                    <h4 class="text-lg font-bold text-cyan-400">"Find Game" Videos</h4>
                    <div>
                        <label class="block text-sm font-medium mb-1">URL для Web-версии</label>
                        <input type="text" data-game="${game}" data-type="findGame" data-index="0" value="${
              gameConfig.findGame[0]?.url || ""
            }" class="config-input video-config-input w-full p-2 border rounded-md text-white">
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-1">URL для App-версии</label>
                        <input type="text" data-game="${game}" data-type="findGame" data-index="1" value="${
              gameConfig.findGame[1]?.url || ""
            }" class="config-input video-config-input w-full p-2 border rounded-md text-white">
                    </div>
                    <h4 class="text-lg font-bold text-cyan-400 mt-4">"How To Use" Video</h4>
                    <div>
                        <label class="block text-sm font-medium mb-1">URL для инструкции</label>
                        <input type="text" data-game="${game}" data-type="howToUse" data-index="0" value="${
              gameConfig.howToUse[0]?.url || ""
            }" class="config-input video-config-input w-full p-2 border rounded-md text-white">
                    </div>
                </div>
            `;
            accordionContainer.appendChild(item);
          });
        };

        // --- EVENT LISTENERS ---

        addSlotBtn.addEventListener("click", () => {
          slotsConfig.push({
            title: "NEW SLOT",
            image: "https://placehold.co/600x400/0d0d0d/d946ef?text=NEW+SLOT",
            showFindGame: true,
          });
          renderSlotInputs();
        });

        slotsSettingsContainer.addEventListener("click", (e) => {
          if (e.target.classList.contains("delete-slot-btn")) {
            const index = parseInt(e.target.dataset.index);
            slotsConfig.splice(index, 1);
            renderSlotInputs();
          }
        });

        slotsSettingsContainer.addEventListener("input", (e) => {
          if (e.target.classList.contains("slot-config-input")) {
            const index = e.target.closest("[data-index]").dataset.index;
            const configKey = e.target.dataset.config;
            const value =
              e.target.type === "checkbox" ? e.target.checked : e.target.value;
            slotsConfig[index][configKey] = value;
          }
        });

        cardsSettingsContainer.addEventListener("input", (e) => {
          if (e.target.classList.contains("static-card-config-input")) {
            const index = e.target.closest("[data-index]").dataset.index;
            const configKey = e.target.dataset.config;
            const value =
              e.target.type === "checkbox" ? e.target.checked : e.target.value;
            staticCardsConfig[index][configKey] = value;
          }
        });

        addPrizeBtn.addEventListener("click", () => {
          prizesConfig.push({
            text: "NEW PRIZE",
            color: "#FFFFFF",
            textColor: "#000000",
            animatedBorder: false,
            specialCode: "",
          });
          renderPrizeInputs();
        });

        wheelPrizesContainer.addEventListener("click", (e) => {
          if (e.target.classList.contains("delete-prize-btn")) {
            const index = parseInt(e.target.dataset.index);
            prizesConfig.splice(index, 1);
            renderPrizeInputs();
          }
        });

        wheelPrizesContainer.addEventListener("input", (e) => {
          if (e.target.classList.contains("prize-config-input")) {
            const index = e.target.closest("[data-index]").dataset.index;
            const configKey = e.target.dataset.config;
            const value =
              e.target.type === "checkbox" ? e.target.checked : e.target.value;
            prizesConfig[index][configKey] = value;
          }
        });

        accordionContainer.addEventListener("click", (e) => {
          const header = e.target.closest(".accordion-header");
          if (header) {
            header.parentElement.classList.toggle("open");
          }
        });

        // --- GENERATION LOGIC ---
        const generateBtn = document.getElementById("generateBtn");
        generateBtn.addEventListener("click", () => {
          const originalHtmlTemplate = document.getElementById("original-html");
          let modifiedHtml = originalHtmlTemplate.innerHTML;

          // 1. General settings
          const currency = document.getElementById("currency").value;
          const minBet = document.getElementById("minBet").value;
          const maxBet = document.getElementById("maxBet").value;
          const winnerMultiplier =
            document.getElementById("winnerMultiplier").value;
          const enableBetStep =
            document.getElementById("enableBetStep").checked;
          const enableLottery =
            document.getElementById("enableLottery").checked;
          const vipLink = document.getElementById("vipLink").value;

          // 2. Combine all configs into strings
          const newCustomConfigString = `const CUSTOM_CONFIG = ${JSON.stringify(
            { currency, minBet, maxBet, winnerMultiplier, vipLink },
            null,
            18
          )};`;
          const newFeatureFlagsString = `const FEATURE_FLAGS = ${JSON.stringify(
            { enableLottery, enableBetStep },
            null,
            18
          )};`;

          const newVideoConfig = JSON.parse(JSON.stringify(initialVideoConfig));
          document.querySelectorAll(".video-config-input").forEach((input) => {
            const { game, type, index } = input.dataset;
            if (newVideoConfig[game]?.[type]?.[parseInt(index)]) {
              newVideoConfig[game][type][parseInt(index)].url = input.value;
            }
          });
          const newVideoConfigString = `const VIDEO_CONFIG = ${JSON.stringify(
            newVideoConfig,
            null,
            18
          )};`;

          const configuredLotteryCodes = {};
          prizesConfig.forEach((prize, index) => {
            if (prize.specialCode && prize.specialCode.trim() !== "") {
              configuredLotteryCodes[prize.specialCode.trim()] = index;
            }
          });
          const newPrizesString = `const prizes = ${JSON.stringify(
            prizesConfig,
            null,
            18
          )};`;
          const newLotteryCodesString = `const lotteryCodes = ${JSON.stringify(
            configuredLotteryCodes,
            null,
            18
          )};`;

          const finalCardsConfig = [...staticCardsConfig];
          slotsConfig.forEach((slot, index) => {
            finalCardsConfig.push({ id: `slot-${index}`, ...slot });
          });
          const newCardsConfigString = `const CARDS_CONFIG = ${JSON.stringify(
            finalCardsConfig,
            null,
            18
          )};`;

          // 3. Replace all placeholders in the script
          const scriptToInject = `
            const FEATURE_FLAGS = ${JSON.stringify(
              { enableLottery, enableBetStep },
              null,
              2
            )};
            const prizes = ${JSON.stringify(prizesConfig, null, 2)};
            const lotteryCodes = ${JSON.stringify(
              configuredLotteryCodes,
              null,
              2
            )};
            const CUSTOM_CONFIG = ${JSON.stringify(
              { currency, minBet, maxBet, winnerMultiplier, vipLink },
              null,
              2
            )};
            const CARDS_CONFIG = ${JSON.stringify(finalCardsConfig, null, 2)};
            const VIDEO_CONFIG = ${JSON.stringify(newVideoConfig, null, 2)};
          `;

          modifiedHtml = modifiedHtml.replace(
            /const FEATURE_FLAGS = {[\s\S]*?};[\s\S]*?const VIDEO_CONFIG = {[\s\S]*?};/,
            scriptToInject
          );

          // 4. Trigger download
          const blob = new Blob([modifiedHtml], { type: "text/html" });
          const url = URL.createObjectURL(blob);
          const downloadLink = document.getElementById("downloadLink");
          downloadLink.href = url;
          downloadLink.download = "predictor_configured.html";
          downloadLink.click();
          setTimeout(() => URL.revokeObjectURL(url), 100);
        });

        // --- INITIAL RENDER ---
        renderStaticCardInputs();
        renderSlotInputs();
        renderPrizeInputs();
        renderVideoInputs();
      });
    </script>
  </body>
</html>
